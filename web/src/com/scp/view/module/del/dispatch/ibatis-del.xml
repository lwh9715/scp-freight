<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC "-//iBATIS.com//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd">

<sqlMap>
	<select id="pages.module.del.dispatch.loadingBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM _del_load p 
		WHERE $qry$ 
		AND p.isdelete=false
		AND p.loadtype = 'D'
		order by isubmit,nos
		LIMIT $limit$ OFFSET $start$
	</select>
	<select id="pages.module.del.dispatch.loadingBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 count(*) AS counts 
		FROM _del_load p 
		WHERE $qry$ 
		AND p.loadtype = 'D'
		AND p.isdelete=false
	</select>
	
	<select id="pages.module.del.dispatch.loadingdtlBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM _del_loadtl p 
		WHERE $qry$ 
		order by outnos
		LIMIT $limit$ OFFSET $start$
	</select>
	<select id="pages.module.del.dispatch.loadingdtlBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 count(*) AS counts 
		FROM _del_loadtl p 
		WHERE $qry$ 
	</select>
	<select id="pages.module.del.dispatch.wmsoutdtlchooserBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM _wms_out_load p 
		WHERE $qry$ 
	</select>
	<select id="pages.module.del.dispatch.wmsoutdtlchooserBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 count(*) AS counts 
		FROM _wms_out_load p 
		WHERE $qry$ 
	</select>
	<select id="pages.module.del.dispatch.loadingcheckBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM _del_load p 
		WHERE $qry$ 
		AND p.isdelete=false
		AND p.isubmit = TRUE
		AND p.loadtype = 'D'
		order by ischeck,nos
		LIMIT $limit$ OFFSET $start$
	</select>
	<select id="pages.module.del.dispatch.loadingcheckBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 count(*) AS counts 
		FROM _del_load p 
		WHERE $qry$ 
		AND p.loadtype = 'D'
		AND p.isdelete=false
		AND p.isubmit = TRUE
	</select>
	
	<select id="pages.module.del.dispatch.loadingdtlcheckBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM _del_loadtl p 
		WHERE $qry$ 
		order by outnos
	</select>
	<select id="pages.module.del.dispatch.loadingdtlcheckBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 count(*) AS counts 
		FROM _del_loadtl p 
		WHERE $qry$ 
	</select>
	
	<select id="pages.module.del.dispatch.deliveryBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM del_delivery p 
		WHERE $qry$ 
		AND p.isdelete=false
		order by isubmit ,nos
		LIMIT $limit$ OFFSET $start$
	</select>
	<select id="pages.module.del.dispatch.deliveryBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 count(*) AS counts 
		FROM del_delivery p 
		WHERE $qry$ 
		AND p.isdelete=false
	</select>
	
	<select id="pages.module.del.dispatch.deliverydtlBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM _del_deliverydtl p 
		WHERE $qry$
		AND p.isdelete = false
		order by itemnodesc ,customerabbr
		LIMIT $limit$ OFFSET $start$
	</select>
	<select id="pages.module.del.dispatch.deliverydtlBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 count(*) AS counts 
		FROM _del_deliverydtl p 
		WHERE $qry$ 
		AND p.isdelete = false
	</select>
	
	<select id="pages.module.del.dispatch.deliverycheckBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM _del_delivery p 
		WHERE $qry$ 
		AND p.isdelete=false
		AND p.isubmit = TRUE
		order by ischeck,issend,nos
		LIMIT $limit$ OFFSET $start$
	</select>
	<select id="pages.module.del.dispatch.deliverycheckBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 count(*) AS counts 
		FROM _del_delivery p 
		WHERE $qry$ 
		AND p.isdelete=false
		AND p.isubmit = TRUE
	</select>
	
	<select id="pages.module.del.dispatch.deliverydtlcheckBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM _del_deliverydtl p 
		WHERE $qry$ 
		AND p.isdelete = false
		order by itemno
	</select>
	<select id="pages.module.del.dispatch.deliverydtlcheckBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 count(*) AS counts 
		FROM _del_deliverydtl p 
		WHERE $qry$
		AND p.isdelete = false 
	</select>
	<select id="pages.module.del.dispatch.signBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM _del_deliverydtl p
		WHERE $qry$
		AND p.isdelete = false
		AND EXISTS(SELECT 1 FROM del_delivery l WHERE l.id = p.truckid AND l.isdelete = FALSE AND l.issend = TRUE)
		order by issign,isreturn,itemno,customerabbr
		LIMIT $limit$ OFFSET $start$
	</select>
	<select id="pages.module.del.dispatch.signBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		count(*) AS counts
		FROM _del_deliverydtl p
		WHERE $qry$
		AND p.isdelete = false
		AND EXISTS(SELECT 1 FROM del_delivery l WHERE l.id = p.truckid AND l.isdelete = FALSE AND l.issend = TRUE)
	</select>
	
	<select id="pages.module.del.dispatch.billbackBean.grid.page" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		 * 
		FROM _del_deliverydtl p
		WHERE $qry$
		AND p.isdelete = false
		AND EXISTS(SELECT 1 FROM del_delivery l WHERE l.id = p.truckid AND l.isdelete = FALSE AND l.issend = TRUE)
		AND (p.issign = true or p.isreturn = true)
		order by updatetime,customerabbr
		LIMIT $limit$ OFFSET $start$
	</select>
	<select id="pages.module.del.dispatch.billbackBean.grid.count" parameterClass="java.util.Map" resultClass="java.util.HashMap">
		select 
		count(*) AS counts
		FROM _del_deliverydtl p
		WHERE $qry$
		AND p.isdelete = false
		AND EXISTS(SELECT 1 FROM del_delivery l WHERE l.id = p.truckid AND l.isdelete = FALSE AND l.issend = TRUE)
		AND (p.issign = true or p.isreturn = true)
	</select>
	
	
</sqlMap>
