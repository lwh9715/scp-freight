<?xml version="1.0" encoding="UTF-8"?>
<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:w="http://www.apusic.com/jsf/widget" xmlns:layout="http://www.apusic.com/jsf/layout"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ajax="http://www.apusic.com/jsf/ajax" xmlns:om="http://www.apusic.com/jsf/misc"
	renderKitId="AJAX">
	<w:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<w:stylesheet src="/common/css/common.css"></w:stylesheet><link rel="stylesheet" id="cmsbg" type="text/css"/>
		<w:script src="/common/js/common.js?t=4"></w:script>
		<script type="text/javascript" src="/scp/common/js/savemodel2.js?t=5"></script>
		<script type="text/javascript" src="/scp/common/js/jquery-2.0.0.min.js"></script>
		<!-- 自定义列表排序 -->
		<w:stylesheet src="/common/css/list-style.css"></w:stylesheet>
		<script type="text/javascript" src="/scp/common/js/jquery-ui.js"></script>
		<script type="text/javascript" src="/scp/common/js/savemodel-list.js"></script>
		
		<link rel="stylesheet" type="text/css" href="/scp/common/css/jquery.flexbox.css" />
		<script type="text/javascript" src="/scp/common/js/jquery.flexbox.js"></script>
		
		<script src="../../../common/js/chart.js"></script>
		
		<script type="text/javascript" src="/scp/common/js/gridRight.js?t=6"></script>
		
		<script type="text/javascript" src="/scp/_global/resource/ext/src/locale/ext-lang.js?#{commonBean.lang}"></script>
		<script type="text/javascript" src="/scp/_global/resource/om/locale/om-lang.js?#{commonBean.lang}"></script>
		
		<style>
			div.taba span.x-tab-strip-text {
				width: 181px;
				text-align: center;
				text-shadow: gray;
				font-size: 15px;
				font-weight: bold;
			}
			
			div.tabb span.x-tab-strip-text {
				width: 77px;
				text-align: center;
			}
			
			.tabIconFCL {
				background:
					url("#{constantBean.contextPath}/images/refresh.png");
			}
			#pod .col1 {
				float:left;
				width:200px;
			}
						
		</style>
	</w:head>
	<w:page loadMask="true" loadMaskText="Loading..." title="#{l.m['报价维护']} FCL">
		<ajax:conversationActivator/>
		<layout:panel jsvar="gridPanelJsvar" id="gridPanel">
			<w:form>
				<layout:panelGrid columns="20" style="font-size: 12px;" cellpadding="0" cellspacing="0">
					<h:outputLabel value="#{l.m['起运港']}" style="color: red"/>
					<layout:cell>
						<layout:panelGrid columns="2" cellpadding="0" cellspacing="0">
							<div id="fclpol" style="float:left;"></div>
							<w:textField selectOnFocus="true" width="45" id="pol" jsvar="polJsvar"
									value="#{pages.module.price.mgrfclBean.pol}" hidden="true">
							</w:textField> 
							<w:combo width="60" id="isqryPol">
								<f:selectItem itemLabel="#{l.m['包含']}" itemValue="Y"/>
								<f:selectItem itemLabel="#{l.m['不包含']}" itemValue="N"/>
							</w:combo>
						</layout:panelGrid>
					</layout:cell>
					<h:outputLabel value="#{l.m['目的港']}" style="color: red"/>
					<layout:cell>
						<layout:panelGrid columns="2" cellpadding="0" cellspacing="0">
							<div id="fclpod"></div>
							<w:textField selectOnFocus="true" width="45" id="pod" jsvar="podJsvar"
										 value="#{pages.module.price.mgrfclBean.pod}" hidden="true">
							</w:textField>

						</layout:panelGrid>
					</layout:cell>
					
					<h:outputLabel value="#{l.m['船公司']}" />
					<w:combo  width="90" 
						value="#{pages.module.price.mgrfclBean.qryMap['shipping']}" forceSelection="true">
						<f:selectItems value="#{pages.module.price.mgrfclBean.qryCar}" />
					</w:combo>
					<h:outputLabel value="#{l.m['航线']}" />
					<w:combo width="120" id="lineQry" forceSelection="true" listWidth="150">
						<f:selectItems value="#{pages.module.price.mgrfclBean.qryLine}" />
					</w:combo>
				
					<h:outputLabel value="#{l.m['录入人']}" />
					<w:combo width="120" 
						value="#{pages.module.price.mgrfclBean.qryMap['inputer']}">
						<f:selectItems value="#{pages.module.price.mgrfclBean.qryInputer}" />
					</w:combo>
					
					<h:outputLabel value="#{l.m['修改人']}" />
					<w:combo width="120" 
						value="#{pages.module.price.mgrfclBean.qryMap['updater']}">
						<f:selectItems value="#{pages.module.price.mgrfclBean.qryUpdater}" />
					</w:combo>
					<h:outputLabel value="#{l.m['运价管理人']}"/>
						<layout:cell colspan="1">
							<div id="priceusers"></div>
							<w:textField selectOnFocus="true" width="130"
							value="#{pages.module.price.mgrfclBean.priceusers}" id="priceusers" jsvar="priceuseridsJs" hidden="true"/>
						</layout:cell>
					<h:outputLabel value="#{l.m['发布状态']}" />
					<w:combo typeAhead="true" width="75"
							value="#{pages.module.price.mgrfclBean.qryMap['isrelease$']}">
							<f:selectItem itemLabel="#{l.m['已发布']}" itemValue="true" />
							<f:selectItem itemLabel="#{l.m['未发布']}" itemValue="false" />
					</w:combo>
					
					<h:outputLabel value="#{l.m['停用']}" />
					<w:combo typeAhead="true" jsvar="istopJsVar" width="60" value="#{pages.module.price.mgrfclBean.qryMap['COALESCE(istop,FALSE)$']}">
							<f:selectItem itemLabel="#{l.m['正常']}" itemValue="false" />
							<f:selectItem itemLabel="#{l.m['已停用']}" itemValue="true" />
					</w:combo>
					
					<h:outputLabel value="#{l.m['运价类型']}" />
					<w:combo typeAhead="true" jsvar="istopJsVar" width="60" value="#{pages.module.price.mgrfclBean.qryMap['pricetype']}">
							<f:selectItem itemLabel="FAK" itemValue="FAK" />
							<f:selectItem itemLabel="NAC" itemValue="NAC" />
							<f:selectItem itemLabel="SPOT" itemValue="SPOT" />
							<f:selectItem itemLabel="ONLINE" itemValue="ONLINE" />
					</w:combo>
				</layout:panelGrid>
					
				<layout:panelGrid columns="16" style="font-size: 12px;" cellpadding="0" cellspacing="0">
					<h:outputLabel value="#{l.m['航线代码']}" />
					<layout:cell>
						<layout:panelGrid columns="2" cellpadding="0" cellspacing="0">
							<w:combo width="120" id="shiplinev"
								listWidth="100">
								<f:selectItems value="#{pages.module.price.mgrfclBean.qryLinecode}" />
							</w:combo>
							<w:combo width="60" id="isshipline">
								<f:selectItem itemLabel="#{l.m['包含']}" itemValue="Y"/>
								<f:selectItem itemLabel="#{l.m['不包含']}" itemValue="N"/>
							</w:combo>
						</layout:panelGrid>
					</layout:cell>
					<layout:cell colspan="2">
						<layout:panelGrid columns="4" cellpadding="0" cellspacing="0">
							<w:combo width="60" id="datetype">
								<f:selectItem itemLabel="#{l.m['运价']}" itemValue="A"/>
								<f:selectItem itemLabel="#{l.m['驳船']}" itemValue="B"/>
								<f:selectItem itemLabel="#{l.m['截关']}" itemValue="C"/>
							</w:combo>
							<h:outputLabel value="#{l.m['日期起']}" />
							<w:combo width="50" id="datetypefm" forceSelection="true">
								<f:selectItem itemLabel="=" itemValue="="/>
								<f:selectItem itemLabel="!=" itemValue="!="/>
							</w:combo>
							<w:dateField selectOnFocus="true" width="90"
									id = "datefm" />
						</layout:panelGrid>
					</layout:cell>
						<layout:cell colspan="2">
							<layout:panelGrid columns="3" cellpadding="0" cellspacing="0">	
								<h:outputLabel value="#{l.m['日期止']}" />
								<w:combo width="50" id="datetypeto" forceSelection="true">
									<f:selectItem itemLabel="=" itemValue="="/>
									<f:selectItem itemLabel="!=" itemValue="!="/>
								</w:combo>
								<w:dateField selectOnFocus="true" width="90"
									id = "dateto" />
						</layout:panelGrid>
					</layout:cell>	
					
					<h:outputLabel value="#{l.m['生效状态']}" />
					<w:combo typeAhead="true" width="70" 
							value="#{pages.module.price.mgrfclBean.qryMap['isvalid']}">
							<f:selectItem itemLabel="#{l.m['生效']}" itemValue="R" />
							<f:selectItem itemLabel="#{l.m['已失效']}" itemValue="B" />
							<f:selectItem itemLabel="#{l.m['未生效']}" itemValue="A" />
					</w:combo>
					
					<h:outputLabel value="#{l.m['名称']}" />
					<w:textField selectOnFocus="true" width="120"
							value="#{pages.module.price.mgrfclBean.qryMap['pricename']}" />
					
					<layout:cell colspan="2">
						<layout:panelGrid columns="3" cellpadding="0" cellspacing="0">
							<h:outputLabel value="#{l.m['订舱备注']}" />
							<w:textField selectOnFocus="true" width="120" id="remark_outv"/>
							<w:combo width="60" id="isremark_out">
								<f:selectItem itemLabel="#{l.m['包含']}" itemValue="Y"/>
								<f:selectItem itemLabel="#{l.m['不包含']}" itemValue="N"/>
							</w:combo>
						</layout:panelGrid>
					</layout:cell>
					<w:button id="qryRefresh" value="#{l.m['查询']}" onclick="clear()"
						image="#{constantBean.contextPath}/images/query-small.png" />
					<w:button id="clearQryKey" jsvar="clearQryKeyJsVar" label="#{l.m['清空条件']}" width="25"
							image="#{constantBean.contextPath}/images/clear.png"  onclick="clear()"/>
							
							
					
					<!--<h:outputLabel value="船期" />
					<w:combo width="100" 
						value="#{pages.module.price.mgrfclBean.qryMapExt['schedule']}">
						<f:selectItems value="#{pages.module.price.mgrfclBean.qrySchedule}" />
					</w:combo>
					
					<h:outputLabel value="承运人航线" />
					<w:textField selectOnFocus="true" value="#{pages.module.price.mgrfclBean.qryMap['shipline']}"/>
				--></layout:panelGrid>
				
				<layout:panelGrid columns="18" cellpadding="0" cellspacing="0">
					<w:toolBar>
					<w:button id="addcopy" value="#{l.m['复制新增']}"
							image="#{constantBean.contextPath}/images/new.png" />
					<w:button id="addForm" value="#{l.m['新增']}"
							image="#{constantBean.contextPath}/images/new.png" />
					<w:button id="save" value="#{l.m['保存']}" image="#{constantBean.contextPath}/images/save.png" />
					<w:button id="saveBatch" value="#{l.m['另存为']}" image="#{constantBean.contextPath}/images/save.png" />
					<w:button id="del" label="#{l.m['删除']}" onclick="return confirm('#{l.m['确定要删除吗?']}');"
							image="#{constantBean.contextPath}/images/delete.png" />
				
				<!-- <w:button id="editBatch" value="#{l.m['批量编辑']}" 
							image="#{constantBean.contextPath}/pages/module/common/resources/images/excel.gif" />  -->
							
				<w:combo id="editBatch" width="120" emptyText="#{l.m['批量修改']}" jsvar="editBatchJsvar" forceSelection="true" listWidth="200" onselect="reSelectAfterShowWindows()">
					<f:selectItem itemLabel="#{l.m['成本价']}" itemValue="Cost" />
					<f:selectItem itemLabel="#{l.m['附加费']}" itemValue="AddFee" />
					<f:selectItem itemLabel="#{l.m['船期/航程/开航日']}" itemValue="VesVel" />
					<f:selectItem itemLabel="#{l.m['有效期']}" itemValue="Data" />
					<f:selectItem itemLabel="#{l.m['备注']}" itemValue="Remarks" />
				</w:combo>
					<w:button id="stop" value="#{l.m['停用']}" onclick="return confirm('#{l.m['你确定要停用吗?']}');"
							image="#{constantBean.contextPath}/pages/module/common/resources/images/close.png" />
					<w:button id="bargefeeEdit" value="#{l.m['驳船费维护']}"
							image="#{constantBean.contextPath}/images/new.png" />
					<w:button value="#{l.m['下载模板']}"
							onclick="window.open('#{constantBean.contextPath}/upload/quote/quote_fcl.xls');"
							image="#{constantBean.contextPath}/pages/module/common/resources/images/excel.gif" />
					<w:button id="importData" value="#{l.m['批量导入']}"
							image="#{constantBean.contextPath}/pages/module/common/resources/images/excel.gif" />
					<w:button id="release" value="#{l.m['发布']}"
							image="#{constantBean.contextPath}/pages/module/common/resources/images/excel.gif" />
					<w:menu label="#{l.m['导出']}" image="#{constantBean.contextPath}/pages/module/common/resources/images/excel.gif">
						<w:commandMenuItem image="#{constantBean.contextPath}/pages/module/common/resources/images/excel.gif" label="#{l.m['导出列表']}" onclick="exportExcel();"/>
						<w:commandMenuItem image="#{constantBean.contextPath}/pages/module/common/resources/images/excel.gif" label="#{l.m['导出运价表']}" onclick="showRptWindows();"/>
					</w:menu>		
							
					<w:button value="#{l.m['批量更新价格']}" id="fcl2jobsupdateAll" image="#{constantBean.contextPath}/images/refresh.png"/>
					<w:button label="#{l.m['保存定制']}" onclick="saveColModelFun(editGridJsvar,'pages.module.price.mgrfclBean.editGrid');" 
							image="#{constantBean.contextPath}/images/save.png" />
					<w:button label="#{l.m['还原定制']}" onclick="saveColModelFunDefault('pages.module.price.mgrfclBean.editGrid');" 
							image="#{constantBean.contextPath}/images/return-small.png" />
					<w:button id="selectColumn" value="#{l.m['选择栏目']}" onclick="columnWindowFunction();"
							image="#{constantBean.contextPath}/images/shezhi.png" />		
					</w:toolBar>		
					<layout:cell>
						<ajax:status startStyle="color: red"
							onstart="document.getElementsByTagName('body').item(0).style.cursor='progress'"
							onstop="document.getElementsByTagName('body').item(0).style.cursor='auto'">
							<f:facet name="start">
								<f:verbatim>
									<img src="#{constantBean.contextPath}/images/waiting.gif" style="height: 20px;"></img>
								</f:verbatim>
							</f:facet>
						</ajax:status>
					</layout:cell>
				</layout:panelGrid>

				<div style="height: 0px; display: none;">
					<ajax:submitAction id="showSurExt" jsvar="showSurExt" />
					<ajax:submitAction id="linkEdit" jsvar="linkEdit" />
					<ajax:submitAction id="saveGridUserDef" jsvar="saveGridUserDef" />
					<ajax:submitAction id="saveGridUserDefSetDefault" jsvar="saveGridUserDefSetDefault" />
					<ajax:submitAction id="columnRefresh" jsvar="columnRefresh" />
					<ajax:submitAction id="clearSubmit" jsvar="clearSubmit" />
				</div>
				<ajax:submitAction id="export" jsvar="exportexl" />
				<div style="height: 0px; display: none;"><w:button id="simulateExport"
					jsvar="simulateExport" label="#{l.m['导出']}" title="#{l.m['下载']}" disabled="true" alwaysSubmit="true" />
				<om:fileDownload id="doSimulateExport" for="simulateExport" savedName="price.xls" />
				</div>
				
				<!--<layout:panelGrid columns="20" cellspacing="0" cellpadding="0">
						<layout:cell style="width: 27px;">
							<w:button id="clearQry2" label="" width="27"
								image="#{constantBean.contextPath}/images/clear.png" />
						</layout:cell>
						<w:textField selectOnFocus="true" width="40"/>
						<w:textField selectOnFocus="true" width="100"
							value="#{pages.module.price.mgrfclBean.qryMap['pol']}" />
						<w:textField selectOnFocus="true" width="100" jsvar="podInputJsvar"
							value="#{pages.module.price.mgrfclBean.qryMap['pod']}" />
						<w:textField selectOnFocus="true" width="70"
							value="#{pages.module.price.mgrfclBean.qryMap['shipping']}" />

						
						<w:textField selectOnFocus="true" width="60"
							value="#{pages.module.price.mgrfclBean.qryMap['cost20$']}" />
						<w:textField selectOnFocus="true" width="60"
							value="#{pages.module.price.mgrfclBean.qryMap['cost40gp$']}" />
						<w:textField selectOnFocus="true" width="60"
							value="#{pages.module.price.mgrfclBean.qryMap['cost40hq$']}" />
						<w:textField selectOnFocus="true" width="53"
							value="#{pages.module.price.mgrfclBean.qryMap['schedule']}" />
						
						<w:textField selectOnFocus="true" width="70"
							value="#{pages.module.price.mgrfclBean.qryMap['tt']}" />
						<w:textField selectOnFocus="true" width="70"
							value="#{pages.module.price.mgrfclBean.qryMap['via']}" />
						<w:textField selectOnFocus="true" width="70"
							value="#{pages.module.price.mgrfclBean.qryMap['line']}" />
						<w:textField selectOnFocus="true" width="75"
							value="#{pages.module.price.mgrfclBean.qryMap['country']}" />
					</layout:panelGrid>

				--><w:editDataGrid  paged="true" rows="#{pages.module.price.mgrfclBean.gridPageSize}" id="editGrid" jsvar="editGridJsvar" toolBarPosition="bottom" clicksToEdit="1" selectable="true"
					idColumn="id" selectionModel="#{constantBean.checkBox}" loadMask="false" moveEditorOnEnter="true" onrowselect="return false" onrowdeselect="return false">
					<w:outputColumn id="id" header="id" hidden="true" />
					<w:outputColumn header="#{l.m['编辑']}"  width="40" sortable="true"
						clientFormatter="formatLinkEdit" />
					<w:outputColumn header="#{l.m['起运港']}" id="pol" width="100" sortable="true"  clientFormatter="formateReleaseColor">
						<!--<w:combo width="130" id="polEidt" forceSelection="true" listWidth="220">
								<f:selectItems value="#{comboxBean.shippol}" />
						</w:combo>
					--></w:outputColumn>
					<w:outputColumn header="#{l.m['目的港']}" id="pod" width="100" sortable="true"  clientFormatter="formateReleaseColor">
						<!--<w:combo width="130" id="podEidt" forceSelection="true" listWidth="220">
								<f:selectItems value="#{comboxBean.shippod}" />
						</w:combo>
					--></w:outputColumn>
					<w:outputColumn header="#{l.m['船公司']}" id="shipping" width="70" sortable="true"  clientFormatter="formateReleaseColor">
						<!--<w:combo width="130" id="shippingEidt" forceSelection="true" listWidth="220">
								<f:selectItems value="#{comboxBean.shipAbbr}" />
						</w:combo>
					--></w:outputColumn>
					<w:outputColumn header="#{l.m['船名']}" id="vessel" width="100" sortable="true"></w:outputColumn>
					<w:outputColumn header="#{l.m['运价类型']}" id="pricetype" width="70" sortable="true"></w:outputColumn>
					<w:outputColumn header="#{l.m['币制']}" id="currency" width="70" sortable="true">
						<!--<w:combo width="100" id="currencyEidt" forceSelection="true" listWidth="100">
								<f:selectItems value="#{comboxBean.currency}" />
						</w:combo>
					--></w:outputColumn>
					<w:outputColumn header="20'GP" id="cost20" width="60" sortable="true" align="right">
						<w:numberField id="cost20Eidt" style="text-align: right"/>
					</w:outputColumn>
					<w:outputColumn header="40'GP" id="cost40gp" width="60" sortable="true" align="right">
						<w:numberField id="cost40gpEidt" style="text-align: right"/>
					</w:outputColumn>
					<w:outputColumn header="40'HQ" id="cost40hq" width="60" sortable="true" align="right">
						<w:numberField id="cost40hqEidt" style="text-align: right"/>
					</w:outputColumn>
					<w:outputColumn header="45'HQ" id="cost45hq" width="60" sortable="true" align="right">
						<w:numberField id="cost45hqEidt" style="text-align: right"/>
					</w:outputColumn>

					<w:outputColumn header="20'GP底价" id="base20" width="100" sortable="true" align="right"></w:outputColumn>
					<w:outputColumn header="40'GP底价" id="base40gp" width="100" sortable="true" align="right"></w:outputColumn>
					<w:outputColumn header="40'HQ底价" id="base40hq" width="100" sortable="true" align="right"></w:outputColumn>
					<w:outputColumn header="45'HQ底价" id="base45hq" width="100" sortable="true" align="right"></w:outputColumn>

					<w:outputColumn header="#{l.m['其他']}" id="piececntypeo" width="60" sortable="true" align="right"/>
					<w:outputColumn header="#{l.m['附加费']}" id="localcharge" width="60" sortable="true" align="center" clientFormatter="formatLocalcharge"/>
					<w:outputColumn header="#{l.m['开始类型']}" id="开始类型" width="120" sortable="true" align="right"/>
					<w:outputColumn header="#{l.m['船期']}" id="schedule" width="50" sortable="true">
						<w:textField id="scheduleEidt" />
					</w:outputColumn>
					<w:outputColumn header="#{l.m['截关日期']}" id="closingtime" width="120" sortable="true" align="right"/>
					<w:outputColumn header="#{l.m['FREE TIME']}" id="freetime" width="90" sortable="true">
					</w:outputColumn>
					<w:outputColumn header="#{l.m['有效日期起']}" id="datefm" width="90" sortable="true" clientFormatter="formateValid">
						<w:dateField id="date_datefmField"  selectOnFocus="true"/>
					</w:outputColumn>
					<w:outputColumn header="#{l.m['有效日期止']}" id="dateto" width="90" sortable="true" clientFormatter="formateValid">
						<w:dateField id="date_datetoField"  selectOnFocus="true"/>
					</w:outputColumn>
					<w:outputColumn header="#{l.m['航程(天)']}" id="tt" width="70" sortable="true" >
						<w:textField id="ttEidt" />
					</w:outputColumn>
					<w:outputColumn header="#{l.m['中转港']}" id="via" width="70" sortable="true">
						<!--<w:combo width="130" id="viaEidt" forceSelection="true" listWidth="220">
								<f:selectItems value="#{comboxBean.shippdd}" />
						</w:combo>
					--></w:outputColumn> 
					<w:outputColumn header="#{l.m['航线']}" id="line" width="70" sortable="true" >
						<!--<w:combo width="130" id="lineEidt" forceSelection="true" listWidth="220">
							<f:selectItems value="#{comboxBean.line}" />
						</w:combo>
					--></w:outputColumn> 
					<w:outputColumn header="#{l.m['航线代码']}" id="shipline" width="70" sortable="true"  >
					</w:outputColumn> 
					<w:outputColumn header="#{l.m['结束类型']}" id="typeend" width="160" sortable="true"  align="left" clientFormatter="formateTypeend">
						<!--<w:combo width="130" id="typeendtEidt" forceSelection="true" listwidth="120">
							<f:selectItem itemLabel="#{l.m['大船截关']}" itemValue="CLS" />
							<f:selectItem itemLabel="#{l.m['大船驳船']}ON BOARD" itemValue="BETD" />
							<f:selectItem itemLabel="#{l.m['大船']}ON BOARD" itemValue="ETD" />
							<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="BCETD" />
							<f:selectItem itemLabel="#{l.m['提单']}ON BOARD" itemValue="TDETD" />
							<f:selectItem itemLabel="SO ETD" itemValue="SOETD" />
						</w:combo>
					--></w:outputColumn> 
					<w:outputColumn header="#{l.m['驳船有效日期起']}" id="bargedatefm" width="90" sortable="true" clientFormatter="formateValid">
						<w:dateField id="date_bargedatefmField"  selectOnFocus="true"/>
					</w:outputColumn>
					<w:outputColumn header="#{l.m['驳船有效日期止']}" id="bargedateto" width="90" sortable="true" clientFormatter="formateValid">
						<w:dateField id="date_bargedatetoField"  selectOnFocus="true"/>
					</w:outputColumn>
					<w:outputColumn header="#{l.m['驳船开始类型']}" id="bargetype" width="120" sortable="true"  align="left" clientFormatter="formatebargetypestart">
						<!--<w:combo width="130" id="bargetypeEidt" forceSelection="true" listWidth="220">
							<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="ONBOARD" />
							<f:selectItem itemLabel="GATE IN" itemValue="GATEIN" />
						</w:combo>
					--></w:outputColumn> 
					<w:outputColumn header="#{l.m['驳船结束类型']}" id="bargetypend" width="120" sortable="true"  align="left" clientFormatter="formatebargetypeend">
						<!--<w:combo width="130" id="bargetypendEidt" forceSelection="true" listWidth="220">
							<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="ONBOARD" />
							<f:selectItem itemLabel="GATE IN" itemValue="GATEIN" />
							<f:selectItem itemLabel="#{l.m['大船']}ON BOARD" itemValue="ETD" />
						</w:combo>
					--></w:outputColumn> 
					<w:outputColumn header="#{l.m['驳船目的港']}" id="bargepod" width="120" sortable="true" /> 
					<w:outputColumn header="#{l.m['国家']}" id="country" width="70" sortable="true"  /> 
					<w:outputColumn header="#{l.m['名称']}" id="pricename" width="100" sortable="true" /> 
					<w:outputColumn header="#{l.m['发布状态']}" id="isrelease" width="70" sortable="true" clientFormatter="formateRelease"/>
					<w:outputColumn header="#{l.m['匹配驳船']}" id="isinvalid" width="60" sortable="true" type="check" align="center" />
					<w:outputColumn header="#{l.m['停用']}" id="istop" width="60" sortable="true" type="check" align="center" />
					<!--<w:outputColumn header="CLS" id="cls" width="90" sortable="true"  align="center"/> 
					<w:outputColumn header="ETD" id="etd" width="90" sortable="true"  align="center"/> 
					-->
					<w:outputColumn header="#{l.m['外部备注']}" id="remark_in" width="120" sortable="true"   clientFormatter="formatRemark"/> 
					<w:outputColumn header="#{l.m['订舱备注']}" id="remark_out" width="120" sortable="true"  clientFormatter="formatRemark"/> 
					<w:outputColumn header="#{l.m['限重']}" id="remark_ship" width="120" sortable="true"  clientFormatter="formatRemark"/> 
					<w:outputColumn header="#{l.m['发布时间']}" id="daterelease" width="90" sortable="true"  >
						<f:convertDateTime pattern="yy/MM/dd" timeZone="GMT+8" />
					</w:outputColumn> 
					<w:outputColumn header="#{l.m['结算单位']}" id="carrier" sortable="true" width="120" />
					<w:outputColumn header="#{l.m['运价管理人']}" id="priceuserids" sortable="true" width="120" />
					<w:outputColumn header="#{l.m['录入人']}" id="inputername" sortable="true" width="120" />
					<w:outputColumn header="#{l.m['录入时间']}" id="inputtime" width="90" sortable="true">
						<f:convertDateTime pattern="yy/MM/dd HH:mm" timeZone="GMT+8" />
					</w:outputColumn>
					<w:outputColumn header="#{l.m['修改人']}" id="updatername" sortable="true" width="120"/>
					<w:outputColumn header="#{l.m['修改时间']}" id="updatetime" width="90" sortable="true">
						<f:convertDateTime pattern="yy/MM/dd HH:mm" timeZone="GMT+8" />
					</w:outputColumn>
					<w:outputColumn id="isvalid" header="isvalid" hidden="true" />
					<w:outputColumn id="typestart2" header="typestart2" hidden="true" />
					<w:outputColumn id="typeend2" header="typeend2" hidden="true" />
					<w:outputColumn id="bartypestart2" header="bartypestart2" hidden="true" />
					<w:outputColumn id="bartypeend2" header="bartypeend2" hidden="true" />
					
					<w:outputColumn id="bargetypestr2" header="bargetypestr2" hidden="true" />
					<w:outputColumn id="bargetypend2" header="bargetypend2" hidden="true" />
					<w:outputColumn id="baronend" header="baronend" hidden="true" />
				</w:editDataGrid>
				<ui:include src="/common/editgridpage.xhtml" />
			</w:form>
		</layout:panel>
	</w:page>
	
	
	
	<layout:window id="editWindow" width="810" height="720" maximizable="true"
		jsvar="showEditWindowJsVar" title="#{l.m['运价编辑']}" constrainHeader="true" border="false"
		resizable="true">
			<layout:panel id="editPanel">
				<w:form>
				<layout:panelGrid>
					<!--<w:button id="setDetails" value="#{l.m['附件']}"></w:button>
					--><w:button id="releaseThis" value="#{l.m['发布运价']}" image="#{constantBean.contextPath}/pages/module/common/resources/images/excel.gif"></w:button>
					<w:button id="refreshForm" jsvar="refreshFormJsVar" value="#{l.m['刷新']}"
						image="#{constantBean.contextPath}/images/refresh.png" />
					<w:button id="saveForm" value="#{l.m['保存']}" image="#{constantBean.contextPath}/images/save.png" />
					<w:button id="close" value="#{l.m['关闭']}" ></w:button>
					<w:checkBox boxLabel="#{l.m['发布']}" value="#{pages.module.price.mgrfclBean.selectedRowData.isrelease}" id="releaseCheck"/>
					<w:dateField width="90" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.daterelease}" readOnly="true"></w:dateField>
					<h:outputLabel value="#{l.m['运价管理人']}" />
					<layout:cell colspan="1">
						<div id="priceuser"></div>
						<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.mgrfclBean.selectedRowData.priceuserid}" jsvar="priceuseridJs" hidden="true"/>
					</layout:cell>
					<h:outputLabel value="#{l.m['匹配驳船']}" />
					<w:checkBox value="#{pages.module.price.mgrfclBean.selectedRowData.isinvalid}"></w:checkBox>
					
					<h:outputLabel value="#{l.m['停用']}" />
					<w:checkBox value="#{pages.module.price.mgrfclBean.selectedRowData.istop}"></w:checkBox>
					<h:outputLabel value="#{l.m['主推']}" />
					<w:checkBox value="#{pages.module.price.mgrfclBean.selectedRowData.ispush}"></w:checkBox>
				</layout:panelGrid>
				<layout:panelGrid>
					<layout:cell align="center">
						<layout:panelGrid columns="8" cellspacing="0" cellpadding="0">
							<h:outputLabel value="#{l.m['航线']}" />
							<w:combo width="120"
								value="#{pages.module.price.mgrfclBean.selectedRowData.line}" forceSelection="true"
								listWidth="220">
								<f:selectItems value="#{comboxBean.line}" />
							</w:combo>
							
							<h:outputLabel value="#{l.m['起运港']}" style="padding-left:5px;"/>
							<w:combo width="120"
								value="#{pages.module.price.mgrfclBean.selectedRowData.pol}" forceSelection="true"
								listWidth="160">
								<f:selectItems value="#{comboxBean.shippol}" />
							</w:combo>
							
							<h:outputLabel value="#{l.m['目的港']}" style="padding-left:5px;"/>
							<w:combo width="120"
								value="#{pages.module.price.mgrfclBean.selectedRowData.pod}" forceSelection="true"
								listWidth="160">
								<f:selectItems value="#{comboxBean.shippod}" />
							</w:combo>
							
							<h:outputLabel value="#{l.m['中转港']}" style="padding-left:5px;"/>
							<w:combo width="120"
								value="#{pages.module.price.mgrfclBean.selectedRowData.via}" forceSelection="false"
								listWidth="160">
								<f:selectItems value="#{comboxBean.shippdd}" />
							</w:combo>
							
							<h:outputLabel value="#{l.m['国家']}" />
							<w:textField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.country}" width="120"></w:textField>
							<h:outputLabel value="#{l.m['船期']}"  style="padding-left:5px;"/>
							<w:textField   selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.schedule}" width="120"/>
							<h:outputLabel value="#{l.m['航程']}"  style="padding-left:5px;"/>
							<w:textField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.tt}" width="120"/>
							<h:outputLabel value="#{l.m['船公司']}"  style="padding-left:5px;"/>
							<w:combo width="120" value="#{pages.module.price.mgrfclBean.selectedRowData.shipping}"
								forceSelection="true">
								<f:selectItems value="#{comboxBean.shipAbbr}" />
							</w:combo>
							<h:outputLabel value="#{l.m['截关日期']}" />
							<w:dateField width="120" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.closingtime}"/>
							<h:outputLabel value="#{l.m['有效日期']}"  style="padding-left:5px;"/>
							<w:dateField width="120" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.datefm}"></w:dateField>
							<h:outputLabel value="~" style="padding-left:10px;"/>
							<w:dateField width="120" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.dateto}"></w:dateField>
							<h:outputLabel value="#{l.m['合约号']}"  style="padding-left:5px;"></h:outputLabel>
							<w:textField width="120" value="#{pages.module.price.mgrfclBean.selectedRowData.contractno}"/>
							<h:outputLabel value="#{l.m['开航日']}" />
							<w:dateField width="120" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.etd}"/>
							<h:outputLabel value="#{l.m['驳船有效期']}"  style="padding-left:5px;"/>
							<w:dateField width="120" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.bargedatefm}"></w:dateField>
							<h:outputLabel value="~" style="padding-left:10px;"/>
							<w:dateField width="120" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.bargedateto}"></w:dateField>
							<h:outputLabel value="#{l.m['航线代码']}"  style="padding-left:5px;"/>
							<w:textField   selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.shipline}" width="120"/>
							<h:outputLabel value="#{l.m['开始类型']}" />
							<layout:cell colspan="1">
							<layout:panelGrid columns="3" cellspacing="0" cellpadding="0">
							<w:combo jsvar="typestartJs" typeAhead="true" width="120" listwidth="120" onselect="showbox()" value="#{pages.module.price.mgrfclBean.selectedRowData.typestart}">
								<f:selectItem itemLabel="#{l.m['大船截关']}" itemValue="CLS" />
								<f:selectItem itemLabel="#{l.m['大船驳船']}ON BOARD" itemValue="BETD" />
								<f:selectItem itemLabel="#{l.m['大船']}ON BOARD" itemValue="ETD" />
								<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="BCETD" />
								<f:selectItem itemLabel="#{l.m['提单']}ON BOARD" itemValue="TDETD" />
								<f:selectItem itemLabel="SO ETD" itemValue="SOETD" />
								<f:selectItem itemLabel="GATE IN" itemValue="GATE" />
							</w:combo>
							<w:combo width="100" jsvar="bargeonboardJs" hidden="true"
								value="#{pages.module.price.mgrfclBean.selectedRowData.bartypestart2}" forceSelection="true"
								listWidth="200">
								<f:selectItems value="#{comboxBean.bargeonboard}" />
							</w:combo>
							<w:combo width="100" jsvar="onboardJs" hidden="true"
								value="#{pages.module.price.mgrfclBean.selectedRowData.typestart2}" forceSelection="true"
								listWidth="200">
								<f:selectItems value="#{comboxBean.onboard}" />
							</w:combo>
							</layout:panelGrid>
							</layout:cell>
							<h:outputLabel value="#{l.m['驳船类型']}"  style="padding-left:5px;"/>
							<layout:cell colspan="1">
							<layout:panelGrid columns="1" cellspacing="0" cellpadding="0">
							<w:combo jsvar="bargetypeJs" typeAhead="true" width="120" listWidth="150" onselect="showbox3()" value="#{pages.module.price.mgrfclBean.selectedRowData.bargetype}">
								<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="ONBOARD" />
								<f:selectItem itemLabel="GATE IN" itemValue="GATEIN" />
							</w:combo>
							<w:combo width="120" jsvar="bargetypestr2Js" hidden="true"
								value="#{pages.module.price.mgrfclBean.selectedRowData.bargetypestr2}" forceSelection="true"
								listWidth="200">
								<f:selectItems value="#{comboxBean.bargeonboard}" />
							</w:combo>
							</layout:panelGrid>
							</layout:cell>
							<h:outputLabel value="~" style="padding-left:10px;"/>
							<layout:cell colspan="1">
							<layout:panelGrid columns="1" cellspacing="0" cellpadding="0">
								<w:combo jsvar="bargetypendJs" typeAhead="true" width="120" listWidth="150" onselect="showbox4()" value="#{pages.module.price.mgrfclBean.selectedRowData.bargetypend}">
									<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="ONBOARD" />
									<f:selectItem itemLabel="GATE IN" itemValue="GATEIN" />
									<f:selectItem itemLabel="#{l.m['大船']}ON BOARD" itemValue="ETD" />
								</w:combo>
								<w:combo width="120" jsvar="bargetypend2Js" hidden="true"
								value="#{pages.module.price.mgrfclBean.selectedRowData.bargetypend2}" forceSelection="true"
								listWidth="200">
								<f:selectItems value="#{comboxBean.bargeonboard}" />
								</w:combo>
								<w:combo width="120" jsvar="baronendJs" hidden="true"
								value="#{pages.module.price.mgrfclBean.selectedRowData.baronend}" forceSelection="true"
								listWidth="200">
								<f:selectItems value="#{comboxBean.onboard}" />
								</w:combo>
							</layout:panelGrid>
							</layout:cell>
							<h:outputLabel value="#{l.m['驳船目的港']}"  style="padding-left:5px;"/>
							<w:combo width="120"
								value="#{pages.module.price.mgrfclBean.selectedRowData.bargepod}" forceSelection="true"
								listWidth="160">
								<f:selectItems value="#{comboxBean.pol}" />
							</w:combo>
							<h:outputLabel value="#{l.m['结束类型']}" />
							<layout:cell colspan="1">
							<layout:panelGrid columns="3" cellspacing="0" cellpadding="0">
							<w:combo jsvar="typeendJs" typeAhead="true" width="120" listwidth="120" onselect="showbox2()" value="#{pages.module.price.mgrfclBean.selectedRowData.typeend}">
								<f:selectItem itemLabel="#{l.m['大船截关']}" itemValue="CLS" />
								<f:selectItem itemLabel="#{l.m['大船驳船']}ON BOARD" itemValue="BETD" />
								<f:selectItem itemLabel="#{l.m['大船']}ON BOARD" itemValue="ETD" />
								<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="BCETD" />
								<f:selectItem itemLabel="#{l.m['提单']}ON BOARD" itemValue="TDETD" />
								<f:selectItem itemLabel="SO ETD" itemValue="SOETD" />
								<f:selectItem itemLabel="GATE IN" itemValue="GATE" />
							</w:combo>
							<w:combo width="100" jsvar="bargeonboard2Js" hidden="true"
								value="#{pages.module.price.mgrfclBean.selectedRowData.bartypeend2}" forceSelection="true"
								listWidth="200">
								<f:selectItems value="#{comboxBean.bargeonboard}" />
							</w:combo>
							<w:combo width="100" jsvar="onboard2Js" hidden="true"
								value="#{pages.module.price.mgrfclBean.selectedRowData.typeend2}" forceSelection="true"
								listWidth="200">
								<f:selectItems value="#{comboxBean.onboard}" />
							</w:combo>
							</layout:panelGrid>
							</layout:cell>
							<h:outputLabel value="#{l.m['FREE TIME']}"  style="padding-left:5px;"/>
							<w:textField width="120"  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.freetime}"/>
							<h:outputLabel value="#{l.m['结算单位']}" />
							<w:combo width="120" value="#{pages.module.price.mgrfclBean.selectedRowData.carrier}"
								forceSelection="true">
								<f:selectItems value="#{comboxBean.shipAgentNamec}" />
							</w:combo>
							<h:outputLabel value="#{l.m['船名']}"  style="padding-left:5px;"/>
							<w:textField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.vessel}" width="120"/>
						</layout:panelGrid>
					</layout:cell>
				</layout:panelGrid>
				
				<layout:panelGrid columns="6" width="760"  cellspacing="0" cellpadding="0">
				<layout:panelGrid columns="3" width="180"  cellspacing="2" cellpadding="0" style="font-size: 12px">
					<h:outputLabel value="#{l.m['箱型']}" style="width: 140px;font-size: 13px;text-align:center;padding-left: 5px;font-weight:bold;"/>
					<h:outputLabel value="#{l.m['成本价']}" style="width: 140px;font-size: 13px;text-align:center;padding-left: 30px;font-weight:bold;"/>
					<h:outputLabel value="#{l.m['底价']}" style="width: 140px;font-size: 13px;text-align:center;padding-left: 30px;font-weight:bold;" />
					
					<h:outputLabel value="20'GP" style="width: 140px;font-size: 16px;"/>
					<w:numberField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.cost20}" jsvar="cost20Jsvar"
								allowNegative="false" style="text-align: right" onblur="setcost()" width="100"/>
					<w:numberField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.base20}" jsvar="base20Jsvar"
								allowNegative="false" style="text-align: right" onblur="setcost()" width="100"/>
					
					<h:outputLabel value="40'GP" style="width: 140px;font-size: 16px;"/>
					<w:numberField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.cost40gp}" jsvar="cost40gpJsvar"
									allowNegative="false" style="text-align: right" onblur="setcost()" width="100"/>
					<w:numberField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.base40gp}" jsvar="base40gpJsvar"
									allowNegative="false" style="text-align: right" onblur="setcost()" width="100"/>
					
					<h:outputLabel value="40'HQ" style="width: 140px;font-size: 16px;"/>
					<w:numberField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.cost40hq}" jsvar="cost40hqJsvar"
									allowNegative="false" style="text-align: right" onblur="setcost()" width="100"/>
					<w:numberField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.base40hq}" jsvar="base40hqJsvar"
									allowNegative="false" style="text-align: right" onblur="setcost()" width="100"/>
									
					<h:outputLabel value="45'HQ" style="width: 140px;font-size: 16px;"/>
					<w:numberField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.cost45hq}" jsvar="cost45hqJsvar"
									allowNegative="false" style="text-align: right" onblur="setcost()" width="100"/>
					<w:numberField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.base45hq}" jsvar="base45hqJsvar"
									allowNegative="false" style="text-align: right" onblur="setcost()" width="100"/>
									
					<w:combo typeAhead="true" forceSelection="true" width="55" jsvar="cntypeothercodeJsvar"
						value="#{pages.module.price.mgrfclBean.selectedRowData.cntypeothercode}" focusClass="surround">
						<f:selectItems value="#{comboxBean.cntype}" />
					</w:combo>
					<w:numberField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.pieceother}"
						 allowNegative="false" style="text-align: right" jsvar="pieceotherJsvar" width="100"/>
					<w:numberField  selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.baseother}" jsvar="baseotherJsvar"
									allowNegative="false" style="text-align: right" onblur="setcost()" width="100"/>
				</layout:panelGrid>
				
				<layout:panelGrid columns="2" width="180"  cellspacing="0" cellpadding="0">
					<h:outputLabel value="#{l.m['运价类型']}"/>
					<w:combo typeAhead="true" forceSelection="true" width="90"
						value="#{pages.module.price.mgrfclBean.selectedRowData.pricetype}" focusClass="surround">
						<f:selectItem itemLabel="FAK" itemValue="FAK" />
						<f:selectItem itemLabel="NAC" itemValue="NAC" />
						<f:selectItem itemLabel="SPOT" itemValue="SPOT" />
						<f:selectItem itemLabel="ONLINE" itemValue="ONLINE" />
					</w:combo>
					<layout:cell colspan="2">
						<w:textField width="151" id="costvluses" jsvar="costvlusesJsvar" onblur="setcostvluses()"></w:textField>
					</layout:cell>
					<h:outputLabel value="#{l.m['币制']}"/>
					<w:combo typeAhead="true" forceSelection="true" width="90"
						value="#{pages.module.price.mgrfclBean.selectedRowData.currency}" focusClass="surround">
						<f:selectItems value="#{comboxBean.currency}" />
					</w:combo>
					<layout:cell colspan="2">
						<w:button width="151" value="#{l.m['批量同步工作单费用']}" id="fcl2jobsupdate" image="#{constantBean.contextPath}/images/refresh.png"/>
					</layout:cell>
				</layout:panelGrid>
				<layout:panelGrid columns="2" width="180"  cellspacing="0" cellpadding="0">
					<h:outputLabel value="#{l.m['起运港关联']}"/>
					<w:textArea width="100" height="140" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.pollink}"/>
				</layout:panelGrid>
				</layout:panelGrid>
				
				<layout:panelGrid columns="2" width="760"  cellspacing="0" cellpadding="0">
					<h:outputLabel value="#{l.m['限重']}"/>
					<w:textArea width="700" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.remark_ship}"/>
				</layout:panelGrid>
				
				<layout:panelGrid columns="1" width="760"  cellspacing="0" cellpadding="0">
					<layout:cell>
						<layout:panelGrid columns="2">
							<w:button value="#{l.m['附加费~点击修改']}" id="feeAdd"/>
							<w:button id="bargefeeEditone" value="#{l.m['驳船费维护']}"
								image="#{constantBean.contextPath}/images/new.png" />
						</layout:panelGrid>
					</layout:cell>
					<!--<w:textArea width="725" selectOnFocus="true" readOnly="true" id = "feedesc" height="60"/>
				-->
					<w:iframe id="localChargeIframe" style="border: thin;width: 100%;height: 146px" border="0" height="146"
						scrolling="false">
					</w:iframe>
				
				</layout:panelGrid>
				
				<layout:panelGrid columns="2" width="760"  cellspacing="0" cellpadding="0">
					<h:outputLabel value="#{l.m['附加费说明']}"/>
					<w:textArea width="660" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.remark_fee}"/>
				</layout:panelGrid>
				
				<layout:panelGrid columns="3" width="760"  cellspacing="0" cellpadding="0">
					<h:outputLabel value="#{l.m['联系方式']}"/>
					<h:outputLabel value="#{l.m['外部备注']}"/>
					<h:outputLabel value="#{l.m['订舱备注']}"/>
					<w:textArea width="230" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.contacter}"  height="60"/>
					<w:textArea width="230" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.remark_in}"  height="60"/>
					<w:textArea width="230" selectOnFocus="true" value="#{pages.module.price.mgrfclBean.selectedRowData.remark_out}"  height="60"/>
				</layout:panelGrid>
				
				<w:textField selectOnFocus="true" id="pkVal" hidden="true" />
				</w:form>
			</layout:panel>
	</layout:window>
	
	

	<layout:window id="editBatchWindowCost" width="550" height="320" maximizable="true" modal="true"
		jsvar="editBatchWindowJsVar1" title="#{l.m['成本价']}" constrainHeader="true" border="false"
		resizable="true">
		<layout:panel id="j">
				<w:form>
				<layout:panelGrid columns="6" width="600">
					<layout:cell colspan="2">
						<h:outputLabel value="#{l.m['合并录入']}" style="width: 100px;font-size: 12px;"/>
					</layout:cell>
					<layout:cell colspan="4">
						<layout:panelGrid columns="4">
							<h:outputLabel value="#{l.m['成本']}" style="width: 100px;font-size: 12px;"/>
							<w:textField width="150" jsvar="costupdate1Jsvar" onblur="updatecostvluses1()" selectOnFocus="true"></w:textField>
							<w:textField width="150" jsvar="costupdate2Jsvar" onblur="updatecostvluses2()" selectOnFocus="true"></w:textField>
							<w:button label=""  width="25" id="clearprice"  image="#{constantBean.contextPath}/images/clear.png"/>
							<h:outputLabel value="#{l.m['底价']}" style="width: 100px;font-size: 12px;"/>
							<w:textField width="150" jsvar="baseupdate1Jsvar" onblur="updatecostvluses3()" selectOnFocus="true"></w:textField>
							<w:textField width="150" jsvar="baseupdate2Jsvar" onblur="updatecostvluses4()" selectOnFocus="true"></w:textField>
							<w:button label=""  width="25" id="clearbaseprice"  image="#{constantBean.contextPath}/images/clear.png"/>
						</layout:panelGrid>
					</layout:cell>
					
				</layout:panelGrid>
				<layout:panelGrid columns="8" width="180">
					<h:outputLabel value="#{l.m['箱型']}" style="width: 140px;font-size: 12px;"/>
					<h:outputLabel value="+-" style="font-size: 16px;" ondblclick="batchChangeCom()"/>
					<h:outputLabel value="#{l.m['成本价']}" style="width: 140px;font-size: 12px;"/>
					<h:outputLabel value="#{l.m['更新成本价']}" style="width: 140px;font-size: 12px;"/>
					<h:outputLabel value="" style="width: 140px;font-size: 12px;"/>
					<h:outputLabel value="#{l.m['底价']}" style="width: 140px;font-size: 12px;"/>
					<h:outputLabel value="#{l.m['更新底价']}" style="width: 140px;font-size: 12px;"/>
					<h:outputLabel value="" style="width: 140px;font-size: 12px;"/>
					
					<h:outputLabel value="20'GP" style="width: 140px;font-size: 16px;"/>
					<w:combo width="50" value="+" id="c20gp" jsvar="c20gpJsVar">
						<f:selectItem itemLabel="+" itemValue="+" />
						<f:selectItem itemLabel="-" itemValue="-" />
					</w:combo>
					<w:numberField id="z20gp" jsvar="z20gpJsvar" selectOnFocus="true" onblur="setcost1()" allowNegative="false" style="text-align: right" width="70"/>
					<w:numberField id="z20gpv" jsvar="z20gpvJsvar" selectOnFocus="true" onblur="setcost2()" allowNegative="false" style="text-align: right" width="70"/>
					<w:button width="25" onclick="clearvesvel('cost20')"
						image="#{constantBean.contextPath}/images/clear.png"/>
					<w:numberField id="b20gp" jsvar="b20gpJsvar" selectOnFocus="true" onblur="setcost3()" allowNegative="false" style="text-align: right" width="70"/>
					<w:numberField id="b20gpv" jsvar="b20gpvJsvar" selectOnFocus="true" onblur="setcost4()" allowNegative="false" style="text-align: right" width="70"/>
					<w:button width="25" onclick="clearvesvel('base20')"
						image="#{constantBean.contextPath}/images/clear.png"/>
					
					<h:outputLabel value="40'GP" style="width: 140px;font-size: 16px;"/>
					<w:combo width="50" value="+" id="c40gp" jsvar="c40gpJsVar">
						<f:selectItem itemLabel="+" itemValue="+" />
						<f:selectItem itemLabel="-" itemValue="-" />
					</w:combo>
					<w:numberField id="z40gp" jsvar="z40gpJsvar" selectOnFocus="true" onblur="setcost1()" allowNegative="false" style="text-align: right" width="70"/>
					<w:numberField id="z40gpv" jsvar="z40gpvJsvar" selectOnFocus="true" onblur="setcost2()" allowNegative="false" style="text-align: right" width="70"/>
					<w:button width="25" onclick="clearvesvel('cost40gp')"
						image="#{constantBean.contextPath}/images/clear.png"/>
					<w:numberField id="b40gp" jsvar="b40gpJsvar" selectOnFocus="true" onblur="setcost3()" allowNegative="false" style="text-align: right" width="70"/>
					<w:numberField id="b40gpv" jsvar="b40gpvJsvar" selectOnFocus="true" onblur="setcost4()" allowNegative="false" style="text-align: right" width="70"/>
					<w:button width="25" onclick="clearvesvel('base40gp')"
						image="#{constantBean.contextPath}/images/clear.png"/>
					
					<h:outputLabel value="40'HQ" style="width: 140px;font-size: 16px;"/>
					<w:combo width="50" value="+" id="c40hq" jsvar="c40hqJsVar">
						<f:selectItem itemLabel="+" itemValue="+" />
						<f:selectItem itemLabel="-" itemValue="-" />
					</w:combo>
					<w:numberField id="z40hq" jsvar="z40hqJsvar" selectOnFocus="true" onblur="setcost1()" allowNegative="false" style="text-align: right" width="70"/>
					<w:numberField id="z40hqv" jsvar="z40hqvJsvar" selectOnFocus="true" onblur="setcost2()" allowNegative="false" style="text-align: right" width="70"/>
					<w:button width="25" onclick="clearvesvel('cost40hq')"
						image="#{constantBean.contextPath}/images/clear.png"/>	
					<w:numberField id="b40hq" jsvar="b40hqJsvar" selectOnFocus="true" onblur="setcost3()" allowNegative="false" style="text-align: right" width="70"/>
					<w:numberField id="b40hqv" jsvar="b40hqvJsvar" selectOnFocus="true" onblur="setcost4()" allowNegative="false" style="text-align: right" width="70"/>
					<w:button width="25" onclick="clearvesvel('base40hq')"
						image="#{constantBean.contextPath}/images/clear.png"/>	
					
					<h:outputLabel value="45'HQ" style="width: 140px;font-size: 16px;"/>
					<w:combo width="50" value="+" id="c45hq" jsvar="c45hqJsVar">
						<f:selectItem itemLabel="+" itemValue="+" />
						<f:selectItem itemLabel="-" itemValue="-" />
					</w:combo>
					<w:numberField id="z45hq" jsvar="z45hqJsvar" selectOnFocus="true" onblur="setcost1()" allowNegative="false" style="text-align: right" width="70"/>
					<w:numberField id="z45hqv" jsvar="z45hqvJsvar" selectOnFocus="true" onblur="setcost2()" allowNegative="false" style="text-align: right" width="70"/>
					<w:button width="25" onclick="clearvesvel('cost45hq')"
						image="#{constantBean.contextPath}/images/clear.png"/>	
					<w:numberField id="b45hq" jsvar="b45hqJsvar" selectOnFocus="true" onblur="setcost3()" allowNegative="false" style="text-align: right" width="70"/>
					<w:numberField id="b45hqv" jsvar="b45hqvJsvar" selectOnFocus="true" onblur="setcost4()" allowNegative="false" style="text-align: right" width="70"/>
					<w:button width="25" onclick="clearvesvel('base45hq')"
						image="#{constantBean.contextPath}/images/clear.png"/>
					
					<w:combo typeAhead="true" forceSelection="true" width="55" id="cntypeothercodev" jsvar="cntypeothercodevJsvar" emptyText="#{l.m['其他']}"
						focusClass="surround" >
						<f:selectItems value="#{comboxBean.cntype}" />
					</w:combo>
					<w:combo width="50" value="+" id="cother" jsvar="cotherJsVar">
						<f:selectItem itemLabel="+" itemValue="+" />
						<f:selectItem itemLabel="-" itemValue="-" />
					</w:combo>
					<w:numberField id="zcntypeother" jsvar="zcntypeotherJsvar" selectOnFocus="true" onblur="setcost1()" allowNegative="false" style="text-align: right" width="70"/>
					<w:numberField id="zcntypeotherv" jsvar="zcntypeothervJsvar" selectOnFocus="true" onblur="setcost2()" allowNegative="false" style="text-align: right" width="70"/>
					<w:button width="25" onclick="clearvesvel('pieceother')"
						image="#{constantBean.contextPath}/images/clear.png"/>
					<w:numberField id="bcntypeother" jsvar="bcntypeotherJsvar" selectOnFocus="true" onblur="setcost3()" allowNegative="false" style="text-align: right" width="70"/>
					<w:numberField id="bcntypeotherv" jsvar="bcntypeothervJsvar" selectOnFocus="true" onblur="setcost4()" allowNegative="false" style="text-align: right" width="70"/>
					<w:button width="25" onclick="clearvesvel('baseother')"
						image="#{constantBean.contextPath}/images/clear.png"/>
					
					<h:outputLabel value="#{l.m['币制']}"/>
					<w:combo typeAhead="true" forceSelection="true" width="55" id="batchCurrency" focusClass="surround">
						<f:selectItems value="#{comboxBean.currency}" />
					</w:combo>
					<w:button width="25" onclick="clearvesvel('currency')"
						image="#{constantBean.contextPath}/images/clear.png"/>
				
				</layout:panelGrid>
				<layout:panelGrid>
					<w:button id="saveBatchCost" value="#{l.m['保存']}" image="#{constantBean.contextPath}/images/save.png" />
				</layout:panelGrid>
				</w:form>
			</layout:panel>	
	</layout:window>
	
	<layout:window maximizable="true" id="feeAddWindows" jsvar="showFeeAddWindowsJsVar" width="1100" height="550" header="false" title="#{l.m['附加费']}"
		constrainHeader="true" modal="true" onclose="refreshFormJsVar.fireEvent('click');">
		<w:iframe id="addFeeIframe" name="addFeeIframe" style="border: thin;width: 100%;height: 100%" border="0"
			scrolling="false">
		</w:iframe>
	</layout:window>
	
	
	<layout:window id="editBatchWindoVesVel" width="400" height="390" maximizable="true"
		title="#{l.m['船期/航程/开航日']}" constrainHeader="true" border="false" modal="true"
		resizable="true">
			<layout:panel id="ve">
				<w:form>
				<layout:panelGrid columns="3" cellpadding="0" cellspacing="0">
					<h:outputLabel value="#{l.m['船期']}" />
					<w:textField selectOnFocus="true" width="120"  id="batchSchedule"/>	
					<w:button width="25" onclick="clearvesvel('schedule')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['航程（天）']}" />
					<w:textField selectOnFocus="true" width="120" style="text-align: right" id="batchTT"/>
					<w:button width="25" onclick="clearvesvel('tt')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="ETD" />
					<w:dateField selectOnFocus="true" id="batchETD" width="120"></w:dateField>
					<w:button width="25" onclick="clearvesvel('etd')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['航线']}" />
					<w:combo typeAhead="true" width="120" listWidth="200" id="batchline">
						<f:selectItems value="#{comboxBean.line}" />
					</w:combo>
					<w:button width="25" onclick="clearvesvel('line')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['航线代码']}" />
					<w:textField selectOnFocus="true" width="120"  id="batchshipline"/>		
					<w:button width="25" onclick="clearvesvel('shipline')"
							image="#{constantBean.contextPath}/images/clear.png"/>					
					<h:outputLabel value="#{l.m['船公司']}" />
					<w:combo typeAhead="true" width="120" listWidth="200" id="batchshipabbr">
						<f:selectItems value="#{comboxBean.shipAbbr}" />
					</w:combo>
					<w:button width="25" onclick="clearvesvel('shipping')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['结算单位']}" />
					<w:combo typeAhead="true" width="120" listWidth="200" id="batchcarrierabbr">
						<f:selectItems value="#{comboxBean.shipAgentAbbr}" />
					</w:combo>
					<w:button width="25" onclick="clearvesvel('carrier')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['起运港']}" />
					<w:combo typeAhead="true" width="120" listWidth="200" id="batchpol">
						<f:selectItems value="#{comboxBean.pol}" />
					</w:combo>
					<w:button width="25" onclick="clearvesvel('pol')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['中转港']}" />
					<w:combo typeAhead="true" width="120" listWidth="200" id="batchpdd">
						<f:selectItems value="#{comboxBean.pdd}" />
					</w:combo>
					<w:button width="25" onclick="clearvesvel('via')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['目的港']}" />
					<w:combo typeAhead="true" width="120" listWidth="200" id="batchpod">
						<f:selectItems value="#{comboxBean.pod}" />
					</w:combo>
					<w:button width="25" onclick="clearvesvel('pod')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['驳船目的港']}" />
					<w:combo typeAhead="true" width="120" listWidth="200" id="batchbargepol">
						<f:selectItems value="#{comboxBean.pol}" />
					</w:combo>
					<w:button width="25" onclick="clearvesvel('bargepod')"
							image="#{constantBean.contextPath}/images/clear.png"/>
					<h:outputLabel value="#{l.m['起运港关联']}" />
					<w:textField selectOnFocus="true" width="120" id="batchpollink"/>
					<w:button width="25" onclick="clearvesvel('pollink')"
							image="#{constantBean.contextPath}/images/clear.png"/>
				</layout:panelGrid>
					<w:button id="saveBatchVesVel" value="#{l.m['确定']}" style="text-align: right" image="#{constantBean.contextPath}/images/save.png" />
				</w:form>
			</layout:panel>	
	</layout:window>
	<layout:window id="editBatchWindowRemarks" width="400" height="260" maximizable="true" modal="true"
		jsvar="editBatchWindowJsVar3" title="#{l.m['备注']}" constrainHeader="true" border="false"
		resizable="true">
			<layout:panel id="b">
				<w:form>
					<layout:panelGrid>
						<h:outputLabel value="#{l.m['外部备注：']}"/>
						<w:textArea selectOnFocus="false" height="40" width="130" id="batchRemarksInner"/>
						<w:button width="25" onclick="clearvesvel('remark_in')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					</layout:panelGrid>
					<layout:panelGrid columns="3">
						<h:outputLabel value="#{l.m['订舱备注：']}"/>
						<w:textArea selectOnFocus="false" height="40" width="130" id="batchRemarksOuter"/>
						<w:button width="25" onclick="clearvesvel('remark_out')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					</layout:panelGrid>
					<layout:panelGrid>
						<h:outputLabel value="#{l.m['限重：']}"/>
						<w:textArea selectOnFocus="false" height="40" width="130" id="batchRemarksShip"/>
						<w:button width="25" onclick="clearvesvel('remark_ship')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					</layout:panelGrid>
					<layout:panelGrid>
					<w:button id="saveBatchRemarks" value="#{l.m['覆盖']}" style="text-align: right" image="#{constantBean.contextPath}/images/save.png" />
					<w:button id="addBatchRemarks" value="#{l.m['追加']}" image="#{constantBean.contextPath}/images/new.png" />
				</layout:panelGrid>
				</w:form>
			</layout:panel>	
	</layout:window>
	<layout:window id="editBatchWindowData" width="600" height="360" maximizable="true" modal="true"
		jsvar="editBatchWindowJsVar6" title="#{l.m['修改有效期']}" constrainHeader="true" border="false"
		resizable="true">
		<layout:panel id="da">
			<w:form>
				<layout:panelGrid columns="6">
					<h:outputLabel value="#{l.m['有效期（开始）']}"/>
					<w:dateField width="130" selectOnFocus="true" id="batchDateFr"></w:dateField>
					<w:button width="25" onclick="clearvesvel('datefm')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					<h:outputLabel value="#{l.m['有效期（结束）']}"/>
					<layout:cell colspan="1">
						<layout:panelGrid columns="2">
							<w:dateField width="130" selectOnFocus="true" id="batchDateTo" ></w:dateField>
							<w:button id="delay" value="#{l.m['变更']}" tooltip="#{l.m['只单独更新截止日期，往后顺延']}" image="#{constantBean.contextPath}/main/img/clock.ico"></w:button>
						</layout:panelGrid>
					</layout:cell>
					<w:button  width="25" onclick="clearvesvel('dateto')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					
					<h:outputLabel value="#{l.m['开始类型']}" />
					<w:combo typeAhead="true" width="130" listWidth="200" id="batchTypestart" jsvar="batchTypestartJs" onselect="showstart()">
						<f:selectItem itemLabel="#{l.m['大船截关']}" itemValue="CLS" />
						<f:selectItem itemLabel="#{l.m['大船驳船']}ON BOARD" itemValue="BETD" />
						<f:selectItem itemLabel="#{l.m['大船']}ON BOARD" itemValue="ETD" />
						<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="BCETD" />
						<f:selectItem itemLabel="#{l.m['提单']}ON BOARD" itemValue="TDETD" />
						<f:selectItem itemLabel="SO ETD" itemValue="SOETD" />
						<f:selectItem itemLabel="GATE IN" itemValue="GATE" />
					</w:combo>
					<w:button  width="25" onclick="clearvesvel('typestart')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					<h:outputLabel value="#{l.m['结束类型']}" />
					<w:combo typeAhead="true" width="130" listWidth="200" id="batchTypeend" jsvar="batchTypeendJs" onselect="showend()">
						<f:selectItem itemLabel="#{l.m['大船截关']}" itemValue="CLS" />
						<f:selectItem itemLabel="#{l.m['大船驳船']}ON BOARD" itemValue="BETD" />
						<f:selectItem itemLabel="#{l.m['大船']}ON BOARD" itemValue="ETD" />
						<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="BCETD" />
						<f:selectItem itemLabel="#{l.m['提单']}ON BOARD" itemValue="TDETD" />
						<f:selectItem itemLabel="SO ETD" itemValue="SOETD" />
						<f:selectItem itemLabel="GATE IN" itemValue="GATE" />
					</w:combo>
					<w:button  width="25" onclick="clearvesvel('typeend')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					
					<layout:cell colspan="3">
					<layout:panelGrid columns="5" cellspacing="0" cellpadding="0">
						<h:outputLabel style="width: 85px; height:5px; display: block;" />
						<w:combo id="batchstartbaron" jsvar="startbaronJs" width="130" hidden="true" listWidth="200">
							<f:selectItems value="#{comboxBean.bargeonboard}" />
						</w:combo>
						<w:combo id="batchstarton" jsvar="startonJs" width="130" hidden="true" listWidth="200">
							<f:selectItems value="#{comboxBean.onboard}" />
						</w:combo>
						<w:button  width="25" onclick="clearvesvel('typestart2')"  jsvar="typestart2Js" 
							image="#{constantBean.contextPath}/images/clear.png"/>	
						<w:button  width="25" onclick="clearvesvel('bartypestart2')"  jsvar="bartypestart2Js"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					</layout:panelGrid>
					</layout:cell>
					<layout:cell colspan="3">
					<layout:panelGrid columns="5" cellspacing="0" cellpadding="0">
						<h:outputLabel style="width: 85px; height:5px; display: block;" />
						<w:combo id="batchendbaron" jsvar="endbaronJs" width="130" hidden="true" listWidth="200">
							<f:selectItems value="#{comboxBean.bargeonboard}" />
						</w:combo>
						<w:combo id="batchendon" jsvar="endonJs" width="130" hidden="true" listWidth="200">
							<f:selectItems value="#{comboxBean.onboard}" />
						</w:combo>
						<w:button  width="25" onclick="clearvesvel('typeend2')"  jsvar="typeend2Js" 
							image="#{constantBean.contextPath}/images/clear.png"/>	
						<w:button  width="25" onclick="clearvesvel('bartypeend2')"  jsvar="bartypeend2Js" 
							image="#{constantBean.contextPath}/images/clear.png"/>	
					</layout:panelGrid>
					</layout:cell>
					
					
					<h:outputLabel value="#{l.m['驳船有效期起']}"/>
					<w:dateField width="130" selectOnFocus="true" id="batchbargedatefm"></w:dateField>
					<w:button  width="25" onclick="clearvesvel('bargedatefm')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					<h:outputLabel value="#{l.m['驳船有效期止']}"/>
					<layout:cell colspan="1">
						<layout:panelGrid columns="2">
							<w:dateField width="130" selectOnFocus="true" id="batchbargedateto" ></w:dateField>
							<w:button id="delay2" value="#{l.m['变更']}" tooltip="#{l.m['只单独更新截止日期，往后顺延']}" image="#{constantBean.contextPath}/main/img/clock.ico"></w:button>
						</layout:panelGrid>
					</layout:cell>
					<w:button  width="25" onclick="clearvesvel('bargedateto')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					
					<h:outputLabel value="#{l.m['驳船开始类型']}" />
					<w:combo typeAhead="true" width="130" listWidth="200" id="batchbargetype" jsvar="batchbargetypeJs" onselect="showstart2()">
						<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="ONBOARD" />
						<f:selectItem itemLabel="GATE IN" itemValue="GATEIN" />
					</w:combo>
					<w:button  width="25" onclick="clearvesvel('bargetype')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					<h:outputLabel value="#{l.m['驳船结束类型']}" />
					<w:combo typeAhead="true" width="130" listWidth="200" id="batchbargetypend" jsvar="batchbargetypendJs" onselect="showend2()">
						<f:selectItem itemLabel="#{l.m['驳船']}ON BOARD" itemValue="ONBOARD" />
						<f:selectItem itemLabel="GATE IN" itemValue="GATEIN" />
						<f:selectItem itemLabel="#{l.m['大船']}ON BOARD" itemValue="ETD" />
					</w:combo>
					<w:button  width="25" onclick="clearvesvel('bargetypend')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
							
							
					<layout:cell colspan="3">
					<layout:panelGrid columns="4" cellspacing="0" cellpadding="0">
						<h:outputLabel style="width: 85px; height:5px; display: block;" />
						<w:combo id="batchbarstartbaron" jsvar="barstartbaronJs" width="130" hidden="true" listWidth="200">
							<f:selectItems value="#{comboxBean.bargeonboard}" />
						</w:combo>
						<w:button  width="25" onclick="clearvesvel('bargetypestr2')"  jsvar="bargetypestr2JsVar" 
							image="#{constantBean.contextPath}/images/clear.png"/>	
						
					</layout:panelGrid>
					</layout:cell>
					<layout:cell colspan="3">
					<layout:panelGrid columns="5" cellspacing="0" cellpadding="0">
						<h:outputLabel style="width: 85px; height:5px; display: block;" />
						<w:combo id="batchbarendbaron" jsvar="barendbaronJs" width="130" hidden="true" listWidth="200">
							<f:selectItems value="#{comboxBean.bargeonboard}" />
						</w:combo>
						<w:combo id="batchbarendon" jsvar="barendonJs" width="130" hidden="true" listWidth="200">
							<f:selectItems value="#{comboxBean.onboard}" />
						</w:combo>
						<w:button  width="25" onclick="clearvesvel('bargetypend2')"  jsvar="bargetypend2JsVar" 
							image="#{constantBean.contextPath}/images/clear.png"/>	
						<w:button  width="25" onclick="clearvesvel('baronend')"  jsvar="baronendJsVar" 
							image="#{constantBean.contextPath}/images/clear.png"/>	
						
					</layout:panelGrid>
					</layout:cell>		
							
							
					<layout:cell colspan="6">
						<layout:panelGrid columns="6">
							<h:outputLabel value="#{l.m['是否匹配驳船']}"/>
							<w:combo width="93" id="batchIsinvalid">
								<f:selectItem itemLabel="匹配" itemValue="true" />
								<f:selectItem itemLabel="不匹配" itemValue="false" />
							</w:combo>
							<h:outputLabel value="#{l.m['是否停用']}"/>
							<w:combo width="93" id="batchIstop">
								<f:selectItem itemLabel="停用" itemValue="true" />
								<f:selectItem itemLabel="启用" itemValue="false" />
							</w:combo>
							<h:outputLabel value="#{l.m['是否发布']}"/>
							<w:combo width="93" id="batchIsrelease">
								<f:selectItem itemLabel="发布" itemValue="true" />
								<f:selectItem itemLabel="取消发布" itemValue="false" />
							</w:combo>
						</layout:panelGrid>
					</layout:cell>
					
				</layout:panelGrid>
				<w:button id="saveBatchData" value="#{l.m['确定']}" style="text-align: right" image="#{constantBean.contextPath}/images/save.png" />
			</w:form>
		</layout:panel>	
	</layout:window>
	
	<layout:window id="importDataWindow" width="550" height="400" constrainHeader="true">
		<layout:panel height="450" hideBorders="true" style="font-size:12px">
			<w:form>
				<layout:panelGrid columns="2">
					<layout:cell>
						<layout:panelGrid columns="3">
							<w:button id="importDataBatch" value="#{l.m['批量导入']}"
								image="#{constantBean.contextPath}/images/save.png" />
							<h:outputLabel value="#{l.m['名称(必填)']}" />
							<w:combo allowBlank="false" id="pricename" typeAhead="true" width="300">
								<f:selectItems value="#{pages.module.price.mgrfclBean.qryPricename}" />
							</w:combo>
							<w:combo id="plusorcover" width="100" emptyText="#{l.m['覆盖/追加']}">
								<f:selectItem itemValue="plus" itemLabel="#{l.m['覆盖']}"/>
								<f:selectItem itemValue="cover" itemLabel="#{l.m['追加']}"/>
							</w:combo>
						</layout:panelGrid>
					</layout:cell>
					<layout:cell>
						<ajax:status startStyle="color: red"
							onstart="document.getElementsByTagName('body').item(0).style.cursor='progress'"
							onstop="document.getElementsByTagName('body').item(0).style.cursor='auto'">
							<f:facet name="start">
								<f:verbatim>
									<img src="#{constantBean.contextPath}/images/waiting.gif" style="height: 20px;">Loading...</img>
								</f:verbatim>
							</f:facet>
						</ajax:status>
					</layout:cell>
				</layout:panelGrid>
				<layout:cell>
					<w:textArea id="importDataText" height="250" width="420" grow="false"></w:textArea>
				</layout:cell>
				<layout:cell>
					<layout:panelGrid columns="1">
						<h:outputLabel style="width: 450" value="#{l.m['格式说明']}" />
						<h:outputLabel style="width: 450" value="#{l.m['请从EXCEL的中文行开始粘贴']}" />
					</layout:panelGrid>
				</layout:cell>
				<div style="display: none">
				<w:textField selectOnFocus="true" id="refid" hidden="true"></w:textField></div>
			</w:form>
		</layout:panel>
	</layout:window>
	
	<layout:window id="importFileWindow" width="450" height="300" constrainHeader="true">
		<layout:panel height="300" hideBorders="true" style="font-size:12px">
			<w:form id="myForm" enctype="multipart/form-data">
				<layout:cell align="Center">
					#{l.m['请选择已编辑好的Excel文件导入系统(最大20M)：']}
				</layout:cell>
				<layout:cell>
					<w:fileUpload id="fileUpload1"
						uploadListener="#{pages.module.price.mgrfclBean.processUpload}" rich="false"
						maxSize="20480k" />
					<br/>
					<w:button value="#{l.m['上传']}" />
					<w:fileUploadProgress startMessage="#{l.m['开始上传']}"
						uploadingMessage="#{l.m['正在上传，已经上传']}{readBytes}k/{total}k({percentage}%)"
						completeMessage="#{l.m['上传结束，总共']}{total}k" errorMessage="#{l.m['上传错误']}：{error}" />
				</layout:cell>
				<layout:cell>
					#{l.m['提示：上传完毕后点击更新即可，目前支持xls、xlsx两种格式,兼容Microsoft Office Excel 2003 and 2007。']}
				</layout:cell>
			</w:form>
			<w:form>
				<w:button id="startImport" value="#{l.m['更新']}" />
			</w:form>
		</layout:panel>
	</layout:window>
	
	
	<layout:window id="tipsWindow" jsvar="tipsWindow" width="900" height="530" title="#{l.m['附加费']}" >
		<w:iframe id="tipsIFrame" name="tipsIFrame" style="border: thin;width: 100%;height: 100%;" border="0"
			scrolling="false">
		</w:iframe>
	</layout:window>
	
	<layout:window maximizable="false" id="columnWindow" jsvar="columnWindow" width="600" height="550"
		header="false" resizable="true" constrainHeader="true" title="#{l.m['选择栏目']}">
		<layout:panel id="" height="100%" hideBorders="true" width="100%" fit="true">
			<w:form>
				<w:toolBar>
					<h:outputLabel  value="#{l.m['查询：']}" />
					<w:textField jsvar="findValueJs" id="findValue">
					</w:textField>
					<w:button id="columnfind" label="" onclick="findColmn()"
						image="#{constantBean.contextPath}/images/query-small.png" />
				</w:toolBar>
				<layout:panelGrid columns="2">
					<div id="selectTitle" class="list-select">
						<div class="list-title">
							<h4>#{l.m['双击鼠标左键或选一项单击>添加']}</h4>
						</div>
						<span style="font-size:20px;margin-left:50px;">#{l.m['可选栏目']}</span><span style="margin-left:180px;font-size:20px">#{l.m['显示栏目']}</span>
						<div class="list-body">
							<div class="item-box left-box">
								<!-- 左边框初始化待选项 -->
							</div>
							<div class="center-box">
								<button class="add-one"  style="width:60px" title="#{l.m['添加选中项']}">&gt;</button>
								<button class="remove-one" style="width:60px" title="#{l.m['移除选中项']}">&lt;</button>
								<button class="add-all" style="width:60px" title="#{l.m['添加全部']}">&gt;&gt;</button>
								<button class="remove-all" style="width:60px" title="#{l.m['移除全部']}">&lt;&lt;</button>
								<button class="selected-val" style="width:60px" title="" value="#{l.m['确认']}">#{l.m['确认']}</button>
							</div>
							<div id="sortable" class="item-box right-box">
								<!-- 右边框存放已选项 -->
							</div>
						</div>
						<div class="list-footer">
							<button onclick="columnWindow.hide();" value="#{l.m['取消']}">#{l.m['取消']}</button>
						</div>
					</div>
				</layout:panelGrid>
			</w:form>
		</layout:panel>
	</layout:window>
	
	<layout:window maximizable="true" id="bargefeeEditWindows" width="1000" height="350" header="false" title="#{l.m['驳船费']}"
		constrainHeader="true" modal="true">
		<w:iframe id="bargefeeEditIframe" name="bargefeeEditIframe" style="border: thin;width: 100%;height: 100%" border="0"
			scrolling="false">
		</w:iframe>
	</layout:window>
	
	<layout:window maximizable="false" id="nosislockwindow" width="400" height="550"
		header="false" resizable="true" constrainHeader="true" title="#{l.m['更新信息']}">
		<layout:panel id="" hideBorders="true" fit="true" autoScroll="true">
			<w:form>
				<w:button id="price2email" label="#{l.m['邮件通知']}" image="#{constantBean.contextPath}/images/save.png" />
			</w:form>
			<layout:panelGrid>
				<h:outputLabel id="nosislock"/>
			</layout:panelGrid>
		</layout:panel>
	</layout:window>
	
	
	<layout:window maximizable="false" id="emailNotifyWindow" jsvar="emailNotifyWindowJsVar" width="800" height="650"
		header="false" resizable="true" constrainHeader="true" title="Email">
		<layout:panel id="" hideBorders="true" fit="true">
			<w:iframe id="emailIframe" style="border: thin;width: 100%;height: 100%" border="0" scrolling="false">
			</w:iframe>
		</layout:panel>
	</layout:window>
	
	<layout:window title="#{l.m['提示']}" width="400"  jsvar="remarkWindow" height="350"
		header="false" resizable="true" constrainHeader="true">
		<layout:panel jsvar="tipsPanel" id="tipsPanel" border="false" hideBorders="true">
			<w:textArea id="tipsTextArea" jsvar="tipsTextArea" width="390" height="345" selectOnFocus="true"></w:textArea>
		</layout:panel>
	</layout:window>
	
	<layout:window maximizable="true" id="showExportWindow" jsvar="showExportWindowJsVar" width="400" height="300" header="false" constrainHeader="true" modal="false" >
		<form  id="from1" method="post" target="_blank">
			<input id="showRpt" type="submit" value="预览 "/>
			<input name="gridids" id="rptids" type="text" style= "height:100px; display: none;" value="123" />
		</form>
	</layout:window>
	
	<script type="text/javascript" src="mgrfcl.js?t=3"></script>

	<script><!--
		 //<![CDATA[

	    $('#fclpol').flexbox('/scp/service?src=flexbox&action=pol', {
			resultTemplate: '<div class="col1">{name}</div><div class="col2">{namee}</div><div class="col3">{namec}</div>',
			watermark: '',
			//initialValue: pol,
			width: 120,
			onSelect: function() {
				var str1 = $(this).next().next().children().children(".row.ffb-sel").children(".col2").html();
				str1 = str1.replace('<span class="ffb-match">',"");
				str1 = str1.replace("</span>","");
				$(this).val(str1);
				polJsvar.setValue(str1);
			}
		});

		$('#fclpod').flexbox('/scp/service?src=flexbox&action=pod', {
			resultTemplate: '<div class="col1">{name}</div><div class="col2">{namee}</div><div class="col3">{namec}</div>',
			watermark: '',
			//initialValue: pod,
			width: 120,
			onSelect: function() {
				var str1 = $(this).next().next().children().children(".row.ffb-sel").children(".col2").html();
				str1 = str1.replace('<span class="ffb-match">',"");
				str1 = str1.replace("</span>","");
				$(this).val(str1);
				podJsvar.setValue(str1);
			}
		});
		
		//导出运价表
		function showRptWindows() { 
			var gridIds = "";
			var rs=editGridJsvar.getSelectionModel().getSelections();
			Ext.each(rs,function(){
				gridIds = gridIds+this.get("id")+",";
			});
			gridIds = gridIds.substr(0,gridIds.length-1);
			if(gridIds == null || gridIds == ""){
				alert("#{l.m['请先勾选数据！']}");
			}else{
				$('#rptids').attr("value",gridIds);
				$('#from1').attr("action" , "/scp/reportJsp/showReport.jsp?raq=/ddp/frightprice.raq");
				$('#showRpt').trigger("click");
			}
	    }  

		 
		function formatLocalcharge(v,m,r) {
        	var jobid = r.get('id');
        	if(v == null || v == ''){
				v = "#{l.m['查看']}"; 	
        	}
            temp = '<a target="tipsIFrame" onclick="tipsWindow.show();" href="localcharge.xhtml?linkid='+jobid+'"><font color="blue">' + v + '</font></a>';
		 	return temp;
        }
		 
	    function formateRelease(v,m,r){
	    	var isrelease = r.get('isrelease');
			if(isrelease =='false'){
				m.attr="style='color: red;'";
				v = "#{l.m['未发布']}";
			}else {
				m.attr="style='color: GREEN;'";
				v = "#{l.m['已发布']}";
			}	
	        return v;
		}  
		
		function formatLinkEdit(v,m,r) {
	    	var pkid = r.get('id');
	    	var temp = '<a style="color:#00F;" onclick="showEdit('+pkid+')">#{l.m['编辑']}</a>';
            return temp;
        }
	
	
	Ext.onReady(function(){
		resize();
		Ext.EventManager.onWindowResize(function(){
			resize();
		});
		typestart2Js.hide();
		bartypestart2Js.hide();
		typeend2Js.hide();
		bartypeend2Js.hide();
		
		bargetypestr2JsVar.hide();
		bargetypend2JsVar.hide();
		baronendJsVar.hide();
		
		showbox();
		showbox2();
		$('form input').attr("autocomplete","off");
		
		$('#priceuser').flexbox('/scp/service?src=flexbox&action=priceuser', {
			resultTemplate: '<div class="col1">{name}</div><div class="col2">{namee}</div><div class="col3">{namec}</div>',
			watermark: '',
			initialValue: "#{pages.module.price.mgrfclBean.selectedRowData.priceuserid}",
			width: 110,
			position:'absolute',
			top:'18px',
			left:'0px',
			onSelect: function() {	
				var id=$(this).next().next().children().children(".row.ffb-sel").attr("id");
				priceuseridJs.setValue(id);
				var str1 = $(this).next().next().children().children(".row.ffb-sel").children(".col1").html();
				str1 = str1.replace('<span class="ffb-match">',"");
				str1 = str1.replace("</span>","");
				var str3 = $(this).next().next().children().children(".row.ffb-sel").children(".col3").html();
				str3 = str3.replace('<span class="ffb-match">',"");
				str3 = str3.replace("</span>","");
				$(this).val(str3!=null&&str3!=''?str3:str1);
			}					
		});
		$('#priceusers').flexbox('/scp/service?src=flexbox&action=priceuser', {
		resultTemplate: '<div class="col1">{name}</div><div class="col2">{namee}</div><div class="col3">{namec}</div>',
		watermark: '',
		initialValue: '',
		width: 117,
		onSelect: function() {	
			var id=$(this).next().next().children().children(".row.ffb-sel").attr("id");
			priceuseridsJs.setValue(id);
			var str1 = $(this).next().next().children().children(".row.ffb-sel").children(".col1").html();
			str1 = str1.replace('<span class="ffb-match">',"");
			str1 = str1.replace("</span>","");
			var str3 = $(this).next().next().children().children(".row.ffb-sel").children(".col3").html();
			str3 = str3.replace('<span class="ffb-match">',"");
			str3 = str3.replace("</span>","");
			$(this).val(str3!=null&&str3!=''?str3:str1);
		}					
	});
		initGridRight(editGridJsvar);
	});
	
    
     function formateType(v,m,r){
	    	var starton = r.get('typestart2');
	    	var startbaron = r.get('bartypestart2');
	    	
			if(v =='CLS'){
				v = "#{l.m['大船截关']}";
			}else if(v =='BETD'){
				v = "#{l.m['大船驳船']}ON BOARD";
			}else if(v =='ETD'){
				if(starton =='A'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按大船ATD计价格)']}";
				}else if(starton =='B'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按SO上的大船ETD计价格)']}";
				}else if(starton =='C'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按提单ON BOARD计价格)']}";
				}else if(starton =='D'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按船期表上的ETD计价格)']}";
				}else if(starton =='E'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按大船LTD计价格)']}";
				}else{
					v = "#{l.m['大船']}ON BOARD";
				}
			}else if(v =='TDETD'){
				v = "#{l.m['提单']}ON BOARD";
			}else if(v =='BCETD'){
				if(startbaron =='A'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按驳船ATD计价格)']}";
				}else if(startbaron =='B'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按SO上的驳船ETD计价格)']}";
				}else if(startbaron =='C'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按提单ON BOARD计价格)']}";
				}else{
					v = "#{l.m['驳船']}ON BOARD";
				}
			}else if(v =='SOETD'){
				v = "SO ETD";
			}else if(v =='GATE'){
				v = "GATE IN";
			}	
	        return v;
		} 
		

		function formateTypeend(v,m,r){
	    	var endon = r.get('typeend2');
	    	var endbaron = r.get('bartypeend2');
	    	
			if(v =='CLS'){
				v = "#{l.m['大船截关']}";
			}else if(v =='BETD'){
				v = "#{l.m['大船驳船']}ON BOARD";
			}else if(v =='ETD'){
				if(endon =='A'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按大船ATD计价格)']}";
				}else if(endon =='B'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按SO上的大船ETD计价格)']}";
				}else if(endon =='C'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按提单ON BOARD计价格)']}";
				}else if(endon =='D'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按船期表上的ETD计价格)']}";
				}else if(endon =='E'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按大船LTD计价格)']}";
				}else{
					v = "#{l.m['大船']}ON BOARD";
				}
			}else if(v =='TDETD'){
				v = "#{l.m['提单']}ON BOARD";
			}else if(v =='BCETD'){
				if(endbaron =='A'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按驳船ATD计价格)']}";
				}else if(endbaron =='B'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按SO上的驳船ETD计价格)']}";
				}else if(endbaron =='C'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按提单ON BOARD计价格)']}";
				}else{
					v = "#{l.m['驳船']}ON BOARD";
				}
				
			}else if(v =='SOETD'){
				v = "SO ETD";
			}else if(v =='GATE'){
				v = "GATE IN";
			}	
	        return v;
		} 
    
    function formatebargetypestart(v,m,r){
	    	var type = r.get('bargetypestr2');
			if(v =='GATEIN'){
				v = "GATE IN";
			}else if(v =='ONBOARD'){
				if(type =='A'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按驳船ATD计价格)']}";
				}else if(type =='B'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按SO上的驳船ETD计价格)']}";
				}else if(type =='C'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按提单ON BOARD计价格)']}";
				}else{
					v = "#{l.m['驳船']}ON BOARD";
				}
			}	
	        return v;
		} 
		
	function formatebargetypeend(v,m,r){
	    	var bargetypend2 = r.get('bargetypend2');
	    	var baronend = r.get('baronend');
			if(v =='ETD'){
				if(baronend =='A'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按大船ATD计价格)']}";
				}else if(baronend =='B'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按SO上的大船ETD计价格)']}";
				}else if(baronend =='C'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按提单ON BOARD计价格)']}";
				}else if(baronend =='D'){
					v = "#{l.m['大船']}ON BOARD" +"<br/>"+ "#{l.m['(按船期表上的ETD计价格)']}";
				}else{
					v = "#{l.m['大船']}ON BOARD";
				}
			}else if(v =='ONBOARD'){
				if(bargetypend2 =='A'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按驳船ATD计价格)']}";
				}else if(bargetypend2 =='B'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按SO上的驳船ETD计价格)']}";
				}else if(bargetypend2 =='C'){
					v = "#{l.m['驳船']}ON BOARD" +"<br/>"+ "#{l.m['(按提单ON BOARD计价格)']}";
				}else{
					v = "#{l.m['驳船']}ON BOARD";
				}
			}else if(v =='GATEIN'){
				v = "GATE IN";
			}	
	        return v;
		} 
	     	 //]]>
--></script>
</f:view>