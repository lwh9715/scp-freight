<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:w="http://www.apusic.com/jsf/widget" xmlns:layout="http://www.apusic.com/jsf/layout"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:ajax="http://www.apusic.com/jsf/ajax"
	renderKitId="AJAX">
	<w:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<w:script type="text/javascript" src="/common/ckeditor/ckeditor.js"></w:script>
		<w:script type="text/javascript" src="/common/ckeditor/extckeditor.js"></w:script>
		<w:script type="text/javascript" src="/common/ckeditor/config.js"></w:script>
	
		<script type="text/javascript" src="/scp/_global/resource/ext/src/locale/ext-lang.js?#{commonBean.lang}"></script>
		<script type="text/javascript" src="/scp/_global/resource/om/locale/om-lang.js?#{commonBean.lang}"></script>
	</w:head>
	<w:page title="">
		<ajax:submitAction id="saveAction" jsvar="saveAction" />
		<layout:panel id="editPanel" jsvar="gridPanelJsvar" height="100%" hideBorders="true" 
			fit="true">
			<w:form id="formedt">
				<layout:panelGrid columns="3">
					<w:toolBar>
						<w:button id="save" value="#{l.m['保存']}" allowReEnter="false" onclick="beforeSubmit()"
							image="#{constantBean.contextPath}/images/save.png" />
					</w:toolBar>
				</layout:panelGrid>
				<layout:panelGrid columns="2" style="font-size:12px" cellpadding="0" cellspacing="0">
					<h:outputText value="#{l.m['中文名']}" escape="false" style="color:red" />
					<w:textField width="500" selectOnFocus="true" jsvar="namec"
						value="#{pages.sysmgr.mail.emailtemplateeditBean.selectedRowData.namec}" />
					<h:outputText value="#{l.m['英文名']}" escape="false" style="" />
					<w:textField width="500" selectOnFocus="true" jsvar="namee"
						value="#{pages.sysmgr.mail.emailtemplateeditBean.selectedRowData.namee}" />
					<h:outputText value="#{l.m['主题']}" escape="false" style="color:red" />
					<w:textField width="500" selectOnFocus="true" jsvar="subject"
						value="#{pages.sysmgr.mail.emailtemplateeditBean.selectedRowData.subject}" />
					<h:outputText value="#{l.m['数据字段']}"/>
					<w:combo id="seColums">
						<f:selectItem itemLabel="#{l.m['船名']}" itemValue="$船名$"/>
						<f:selectItem itemLabel="#{l.m['航次']}" itemValue="$航次$"/>
						<f:selectItem itemLabel="#{l.m['码头']}" itemValue="$码头$"/>
						<f:selectItem itemLabel="#{l.m['周']}" itemValue="$周$"/>
						<f:selectItem itemLabel="#{l.m['发货人']}" itemValue="$发货人$"/>
						<f:selectItem itemLabel="#{l.m['收货人']}" itemValue="$收货人$"/>
						<f:selectItem itemLabel="#{l.m['起运港']}" itemValue="$起运港$"/>
						<f:selectItem itemLabel="#{l.m['目的港']}" itemValue="$目的港$"/>
						<f:selectItem itemLabel="SO" itemValue="$SO$"/>
						<f:selectItem itemLabel="CLS" itemValue="$CLS$"/>
						<f:selectItem itemLabel="ETD" itemValue="$ETD$"/>
						<f:selectItem itemLabel="ATD" itemValue="$ATD$"/>
						<f:selectItem itemLabel="ETA" itemValue="$ETA$"/>
						<f:selectItem itemLabel="#{l.m['柜号']}" itemValue="$柜号$"/>
						<f:selectItem itemLabel="#{l.m['提单号']}" itemValue="$提单号$"/>
						<f:selectItem itemLabel="#{l.m['联系人中文']}" itemValue="$联系人中文$"/>
						<f:selectItem itemLabel="#{l.m['联系人英文']}" itemValue="$联系人英文$"/>
						<f:selectItem itemLabel="#{l.m['联系人电话']}" itemValue="$联系人电话$"/>
						<f:selectItem itemLabel="#{l.m['船公司']}" itemValue="$船公司$"/>
						<f:selectItem itemLabel="#{l.m['工作单号']}" itemValue="$工作单号$"/>
						<f:selectItem itemLabel="#{l.m['委托联系人']}" itemValue="$委托联系人$"/>
						<f:selectItem itemLabel="#{l.m['参考号']}" itemValue="$参考号$"/>
						<f:selectItem itemLabel="#{l.m['驳船时间']}" itemValue="$驳船时间$"/>
						<f:selectItem itemLabel="#{l.m['截关时间']}" itemValue="$截关时间$"/>
						<f:selectItem itemLabel="#{l.m['委托人']}" itemValue="$委托人$"/>
						<f:selectItem itemLabel="#{l.m['业务员']}" itemValue="$业务员$"/>
						<f:selectItem itemLabel="#{l.m['箱量箱型']}" itemValue="$箱量箱型$"/>
					</w:combo>
				</layout:panelGrid>
				<layout:panelGrid columns="2" style="font-size:12px" cellpadding="0" cellspacing="0">
					<f:verbatim></f:verbatim>
					<layout:cell colspan="3" styleClass="td-editor" style="width:650px;height:458px;" >
						<h:outputText id="ckeditor" escape="false" style="width:650px;height:458px;"
							value="#{pages.sysmgr.mail.emailtemplateeditBean.selectedRowData.content}" />
					</layout:cell>
				</layout:panelGrid>
			</w:form>
		</layout:panel>
	</w:page>
	
	
	<script type="text/javascript">
	//<![CDATA[
        Ext.onReady(function() {
        	editor1 = Ext.form.CKEditor.create("formedt:ckeditor");
		});

		function changelang(){
	       CKEDITOR.on('instanceCreated', function(event){ 
	  			var editor = event.editor;
	  			editor.on('configLoaded', function(){ 
	    			editor.config.language = "en-uk"; 
	  			});
	       });
		}

        
			
        function setValue(text) {
        	editor1.setValue(text);
        }
        
        function beforeSubmit() {
        	saveAction.addParam('editor1',editor1.getValue());
        	saveAction.addParam('namec',namec.getValue());
        	saveAction.addParam('namee',namee.getValue());
        	saveAction.addParam('subject',subject.getValue());
        	saveAction.submit();
	    }
	    //]]>
	</script>
</f:view>