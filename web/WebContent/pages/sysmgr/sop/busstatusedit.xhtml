<?xml version="1.0" encoding="UTF-8"?>
<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:w="http://www.apusic.com/jsf/widget" xmlns:layout="http://www.apusic.com/jsf/layout"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:ajax="http://www.apusic.com/jsf/ajax" xmlns:om="http://www.apusic.com/jsf/misc"
	renderKitId="AJAX">
	<w:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<w:stylesheet src="/common/css/common.css"></w:stylesheet><link rel="stylesheet" id="cmsbg" type="text/css"/>
		<w:script src="/common/js/common.js?t=4"></w:script>
		<script type="text/javascript" src="/scp/common/js/savemodel2.js?t=5"></script>
		<script type="text/javascript" src="/scp/common/js/jquery-2.0.0.min.js"></script>
		<!-- 自定义列表排序 -->
		<w:stylesheet src="/common/css/list-style.css"></w:stylesheet>
		<script type="text/javascript" src="/scp/common/js/jquery-ui.js"></script>
		<script type="text/javascript" src="/scp/common/js/savemodel-list.js"></script>
		
		<!-- 表单设置 -->
		<script type="text/javascript" src="/scp/common/js/formcfg.js?t=1"></script>
		
		<link rel="stylesheet" type="text/css" href="/scp/common/css/jquery.flexbox.css" />
		<script type="text/javascript" src="/scp/common/js/jquery.flexbox.js"></script>
		
		<script type="text/javascript" src="/scp/_global/resource/ext/src/locale/ext-lang.js?#{commonBean.lang}"></script>
		<script type="text/javascript" src="/scp/_global/resource/om/locale/om-lang.js?#{commonBean.lang}"></script>
	</w:head>
	<w:page loadMask="true" loadMaskText="Loading..." title="#{constantBean.headTitle}--#{l.m['客户编辑']}">
		<ajax:conversationActivator/>
		<div style="height: 0px;">
				<ajax:submitAction id="checkRepeatAjaxSubmit" jsvar="checkRepeatAjaxSubmit" /></div>
		<layout:borderLayout fit="true" fitToBody="true">
			<layout:panel id="masterEditPanel" height="430" region="center" fit="true" split="true">
				<w:form>
					<ajax:submitAction id="isddpAjaxSubmit" jsvar="isddpAjaxSubmit" />
					<layout:panelGrid columns="4" cellspacing="0" cellpadding="0">
						<w:toolBar>
							<w:button id="save" jsvar="saveJsVar" label="#{l.m['保存']}" onclick="return check()"
								image="#{constantBean.contextPath}/images/save.png" />
							<w:button id="add" jsvar="addJsVar" label="#{l.m['新增']}" onclick="return check()"
								image="#{constantBean.contextPath}/images/save.png" />
							<w:button id="doPrint" label="#{l.m['分派']}"
								image="#{constantBean.contextPath}/images/assign.png" />
						</w:toolBar>
						<layout:cell>
							<ajax:status startStyle="color: red"
								onstart="document.getElementsByTagName('body').item(0).style.cursor='progress'"
								onstop="document.getElementsByTagName('body').item(0).style.cursor='auto'">
								<f:facet name="start">
									<f:verbatim>
										<img src="#{constantBean.contextPath}/images/waiting.gif" style="height: 20px;">Loading...</img>
									</f:verbatim>
								</f:facet>
							</ajax:status>
						</layout:cell>
					</layout:panelGrid>

					<layout:panelGrid columns="12" style="font-size:12px" cellspacing="0" cellpadding="0"
						width="980">

						<layout:cell colspan="4">
							<fieldset style="height: 370px;" >
							<layout:panelGrid columns="4" cellspacing="0" cellpadding="0">
								<layout:cell colspan="1">
									<h:outputLabel value="#{l.m['中文名']}" />
								</layout:cell>
								<layout:cell colspan="3">
									<w:textField selectOnFocus="true"
										value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.namec}" width="200"/>
								</layout:cell>
								
								<layout:cell colspan="1">
									<h:outputLabel value="#{l.m['英文名']}" />
								</layout:cell>
								<layout:cell colspan="3">
									<w:textField selectOnFocus="true"
										value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.namee}" width="200"/>
								</layout:cell>
								
								<h:outputLabel value="#{l.m['编号']}" />
								<layout:cell colspan="3">
									<w:textField selectOnFocus="true"
										value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.code}" width="200"/>
								</layout:cell>
							
								<layout:cell colspan="1">
									<h:outputLabel value="#{l.m['触发类型']}" />
								</layout:cell>
								<layout:cell colspan="3">
									<w:combo forceSelection="true" value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.bustype}" width="200">
										<f:selectItem itemValue="1" itemLabel="#{l.m['请选择']}" />
									</w:combo>
								</layout:cell>
								
								<h:outputLabel value="#{l.m['状态']}" />
								<layout:cell colspan="3">
									<w:combo forceSelection="true" value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.status}" width="200">
										<f:selectItem itemValue="S" itemLabel="#{l.m['未开始']}" />
										<f:selectItem itemValue="R" itemLabel="#{l.m['进行中']}" />
										<f:selectItem itemValue="F" itemLabel="#{l.m['已完成']}" />
										<f:selectItem itemValue="E" itemLabel="#{l.m['异常']}" />
									</w:combo>
								</layout:cell>

								<layout:cell colspan="1">
									<h:outputLabel value="#{l.m['是否初始']}" />
								</layout:cell>
								<layout:cell colspan="3">
									<w:radioGroup id="isinit" value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.isinit}">
								 		<f:selectItem itemLabel="#{l.m['是']}"  itemValue="true" />
								 		<f:selectItem itemLabel="#{l.m['否']}"  itemValue="false" />
								 	</w:radioGroup>
							 	</layout:cell>

								<h:outputLabel value="备注" />
								<layout:cell colspan="3">
									<w:textArea value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.remark}" height="100" width="200">
									</w:textArea>
								</layout:cell>
								
								<w:textField  hidden= "TRUE" value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.id}"/>
							</layout:panelGrid>
							</fieldset>
						</layout:cell>

						<layout:cell colspan="4">
							<fieldset style="height: 370px;">
							<layout:panelGrid columns="3" cellspacing="0" cellpadding="0">
								<layout:cell colspan="1">
									<h:outputLabel value="预警开关" />
								</layout:cell>
								<layout:cell colspan="2">
									<w:radioGroup id="alertopen" value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.alertopen}">
								 		<f:selectItem itemLabel="#{l.m['开启预警']}"  itemValue="true" />
								 		<f:selectItem itemLabel="#{l.m['关闭预警']}"  itemValue="false" />
								 	</w:radioGroup>
								</layout:cell>

								<h:outputLabel value="预警类型" />
								<layout:cell colspan="2">
									<w:combo forceSelection="true" value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.alertype}" width="150">
										<f:selectItem itemValue="1" itemLabel="#{l.m['请选择']}" />
									</w:combo>
								</layout:cell>

								<h:outputLabel value="预警时间" />
								<layout:cell colspan="2">
									<w:combo forceSelection="true" value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.alertimetype}" width="70">
										<f:selectItem itemValue="U" itemLabel="#{l.m['提前']}" />
										<f:selectItem itemValue="D" itemLabel="#{l.m['延后']}" />
									</w:combo>
									<w:numberField width="30" value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.alertimehours}" >小时</w:numberField>
								</layout:cell>

								<h:outputLabel value="预警级别" />
								<layout:cell colspan="2">
									<w:radioGroup id="alertlevel" value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.alertevel}" width="100">
								 		<f:selectItem itemLabel="#{l.m['最高']}"  itemValue="1" />
								 		<f:selectItem itemLabel="#{l.m['高']}"  itemValue="2" />
								 		<f:selectItem itemLabel="#{l.m['中']}"  itemValue="3" />
								 		<f:selectItem itemLabel="#{l.m['低']}"  itemValue="4" />
								 	</w:radioGroup>
								</layout:cell>
							</layout:panelGrid>
							</fieldset>
						</layout:cell>
						
						<layout:cell colspan="4">
							<fieldset style="height: 370px;">
							<layout:panelGrid columns="4" cellspacing="0" cellpadding="0">
								<h:outputLabel value="状态变更通知" />
								<layout:cell colspan="3">
									<w:radioGroup id="notify"  value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.statechgopen}" width="100">
								 		<f:selectItem itemLabel="#{l.m['发送通知']}"  itemValue="true" />
								 		<f:selectItem itemLabel="#{l.m['不发送通知']}"  itemValue="false" />
								 	</w:radioGroup>
								 </layout:cell>
								 
								<!--<layout:cell colspan="4">
									<w:checkBox value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.scnotifybyassign}" boxLabel="#{l.m['指定岗位']}"></w:checkBox>
								</layout:cell>
								
								<layout:cell colspan="4">
									<layout:panelGrid columns="4" cellpadding="0" cellspacing="0">
										<w:checkBox boxLabel="#{l.m['销售']}"></w:checkBox>
										<w:checkBox boxLabel="#{l.m['操作']}"></w:checkBox>
										<w:checkBox boxLabel="#{l.m['客服']}"></w:checkBox>
									</layout:panelGrid>
								</layout:cell>
								<layout:cell colspan="4">
									<layout:panelGrid columns="4" cellpadding="0" cellspacing="0">
										<w:checkBox boxLabel="#{l.m['海外客服']}"></w:checkBox>
										<w:checkBox boxLabel="#{l.m['单证']}"></w:checkBox>
										<w:checkBox boxLabel="#{l.m['航线负责人']}"></w:checkBox>
									</layout:panelGrid>
								</layout:cell>-->
								 
								 <layout:cell colspan="1">
									<h:outputLabel value="通知类型" />
								</layout:cell>
								<layout:cell colspan="3">
									<w:radioGroup id="scnotifytype" value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.scnotifytype}" width="100">
								 		<f:selectItem itemLabel="#{l.m['邮件']}"  itemValue="email" />
								 	</w:radioGroup>
								</layout:cell>
								<layout:cell colspan="4">
									<w:textField selectOnFocus="true"  value="#{pages.sysmgr.sop.busstatuseditBean.qryMap.scnotifyemails}" width="200"	 maxLength="100" focusClass="surround" />
								</layout:cell>
							</layout:panelGrid>
							</fieldset>
						</layout:cell>
					</layout:panelGrid>
				</w:form>
			</layout:panel>
		</layout:borderLayout>
		<layout:window maximizable="true" id="showAssignWindow" width="900" height="600" header="false" y="50"
			constrainHeader="true" modal="false" onactivate="showAssign.submit()">
		<w:iframe id="assignIframe" style="border: thin;width: 100%;height: 100%" border="0" scrolling="false">
		</w:iframe>
		<div style="height: 0px;">
			<ajax:submitAction id="doDel" jsvar="showAssign" /> 
		</div>
	</layout:window>
		
		</w:page>
	<script>
	 //<![CDATA[
	 
	function check(){
	
	}
	
	function hideButton(obj,status){
	debugger;
		if(status=="add"){
			obj.hide();
			saveJsVar.show();
		}else{
			obj.hide();
			addJsVar.show();
		}
	}
	 
	Ext.onReady(function(){
		window.addEventListener('message',function(e){
		    var date=e.data;
		    console.log(date);
		    if('' == socialcreditnoJsVar.getValue())socialcreditnoJsVar.setValue(date.nos);
		    if('' == nameejsvar.getValue())nameejsvar.setValue(date.namee);
		    if('' == addresscJs.getValue())addresscJs.setValue(date.addresc);
		    
		},false);
	 });

	 //]]>	
	</script>
</f:view>