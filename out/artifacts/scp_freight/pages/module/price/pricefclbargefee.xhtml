<?xml version="1.0" encoding="UTF-8"?>
<f:view xmlns="http://www.w3.org/1999/xhtml" xmlns:f="http://java.sun.com/jsf/core"
	xmlns:w="http://www.apusic.com/jsf/widget" xmlns:layout="http://www.apusic.com/jsf/layout"
	xmlns:h="http://java.sun.com/jsf/html" xmlns:ajax="http://www.apusic.com/jsf/ajax"
	xmlns:ui="http://java.sun.com/jsf/facelets" renderKitId="AJAX">
	<w:head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
		<link rel="shortcut icon" href="#{constantBean.contextPath}/favicon.ico" />
		<link rel="icon" type="image/gif" href="#{constantBean.contextPath}/favicon.ico" />
		<w:stylesheet src="/pages/module/common/css/tabPanelIcon.css" />
		<w:stylesheet src="/common/css/common.css"></w:stylesheet><link rel="stylesheet" id="cmsbg" type="text/css"/>
		<w:script src="/common/js/common.js?t=4"></w:script>
		<script type="text/javascript" src="/scp/common/js/jquery-2.0.0.min.js"></script>
		<script type="text/javascript" src="/scp/common/js/savemodel2.js?t=5"></script>
		
		<script type="text/javascript" src="/scp/common/js/gridRight.js?t=6"></script>
	
		<script type="text/javascript" src="/scp/_global/resource/ext/src/locale/ext-lang.js?#{commonBean.lang}"></script>
		<script type="text/javascript" src="/scp/_global/resource/om/locale/om-lang.js?#{commonBean.lang}"></script>
	</w:head>
	<w:page loadMask="true" loadMaskText="Loading..." title="#{l.m['驳船费维护']}">
		<ajax:conversationActivator/>
		<layout:borderLayout fit="true" fitToBody="true">
			<layout:panel height="100%" jsvar="clientGridPanelJsvar" hideBorders="true" region="west"
				width="400" split="true">
				<w:form groupId="bargefeeFrom">
					<layout:panelGrid columns="4">
						<w:toolBar>
							<w:button id="clientGridRefresh" label="#{l.m['刷新']}" onclick="qryRefreshfun();"
								image="#{constantBean.contextPath}/images/refresh.png" />
							<w:button id="addBargefee" value="#{l.m['新增']}" image="#{constantBean.contextPath}/images/new.png" />
							<w:button id="delClient" value="#{l.m['删除']}" onclick="return confirm('#{l.m['确定要删除吗?']}');"
								title="#{l.m['删除驳船费和明细']}"
								image="#{constantBean.contextPath}/images/delete.png" />
						</w:toolBar>
						<layout:cell>
							<ajax:status startStyle="color: red"
								onstart="document.getElementsByTagName('body').item(0).style.cursor='progress'"
								onstop="document.getElementsByTagName('body').item(0).style.cursor='auto'">
								<f:facet name="start">
									<f:verbatim>
										<img src="#{constantBean.contextPath}/images/waiting.gif" style="height: 20px;">Loading...</img>
									</f:verbatim>
								</f:facet>
							</ajax:status>
						</layout:cell>
					</layout:panelGrid>
					<div style="height: 20px;"><layout:panelGrid columns="3" cellspacing="0">
						<w:textField selectOnFocus="true" id="qryCustomerKey" width="250"
							emptyText="#{l.m['回车过滤']}"></w:textField>
						<w:button id="customerQry" label=""
							image="#{constantBean.contextPath}/images/query-small.png" />
					</layout:panelGrid></div>
					<ui:include src="/common/clientgridpage.xhtml" />
					<w:dataGrid height="300" paged="true" rows="100" id="clientGrid" toolBarPosition="bottom"
						idColumn="id" selectable="true" jsvar="clientGridJsvar">
						<w:outputColumn id="id" header="ID" hidden="true" />
						<w:outputColumn header="#{l.m['中文名']}" id="namec" width="80" sortable="true"/>
						<w:outputColumn header="#{l.m['英文名']}" id="namee" width="80" sortable="true"/>
						<w:outputColumn header="#{l.m['船公司']}" id="shipping" width="80" sortable="true" />
						<!--<w:outputColumn header="#{l.m['有效期起']}" id="datefm" width="80" sortable="true"/>
						<w:outputColumn header="#{l.m['有效期止']}" id="dateto" width="80" sortable="true"/>
						--><w:outputColumn header="#{l.m['备注']}" id="remark" width="150" sortable="true"/>
					</w:dataGrid>
				</w:form>
			</layout:panel>
			<layout:panel id="gridPanel" title="" height="280" hideBorders="true" region="center" 
				split="true" jsvar="gridPanelJsvar">
				<w:form groupId="bargefeeFrom">
					<div style="height: 0px;display: none;">
					<ajax:submitAction id="changeAccountAction" jsvar="changeAccountAction" />
					<ajax:submitAction id="linkEdit" jsvar="linkEdit" />
					<ajax:submitAction id="clearSubmit" jsvar="clearSubmit" />
					<ajax:submitAction id="saveGridUserDef" jsvar="saveGridUserDef" />
					<ajax:submitAction id="saveGridUserDefSetDefault" jsvar="saveGridUserDefSetDefault" />
					</div>
					<layout:panelGrid columns="4">
						<w:toolBar>
							<w:button id="qryRefresh" label="#{l.m['刷新']}" onclick="qryRefreshfun();"
								image="#{constantBean.contextPath}/images/refresh.png" />
							<w:button id="saveMaster" value="#{l.m['保存']}" allowReEnter="false"
									image="#{constantBean.contextPath}/images/save.png"/>
							<w:button id="addBargefeedtl" value="#{l.m['新增']}" image="#{constantBean.contextPath}/images/new.png" />
							<w:button id="addcopy" value="#{l.m['复制新增']}" image="#{constantBean.contextPath}/images/new.png" />
							<w:button id="saveBatch" value="#{l.m['另存为']}" image="#{constantBean.contextPath}/images/save.png" />
							<w:button id="del" value="#{l.m['删除']}" onclick="return confirm('#{l.m['确定要删除吗?']}');"
								image="#{constantBean.contextPath}/images/delete.png" />
							<w:button id="importData" value="#{l.m['批量导入']}"
								image="#{constantBean.contextPath}/pages/module/common/resources/images/excel.gif" />
							<w:button value="#{l.m['下载模版']}" onclick="window.open('/scp/upload/price/imp_price_fcl_bargefee.xls');"
								image="#{constantBean.contextPath}/pages/module/common/resources/images/excel.gif" />
							<w:button id="markInvalid" jsvar="markInvalid" label="#{l.m['设为无效']}"
								image="#{constantBean.contextPath}/images/delete.png" />
							<w:button id="markInvalidTrue" jsvar="markInvalidTrue" label="#{l.m['设为有效']}"
								image="#{constantBean.contextPath}/images/save.png" />	
							<w:button value="#{l.m['附加费']}" id="addFeeUpdate" image="#{constantBean.contextPath}/images/refresh.png"/>	
							<w:button value="#{l.m['批量修改']}" id="updateAll" image="#{constantBean.contextPath}/images/refresh.png"/>
							<w:button value="#{l.m['批量更新价格']}" id="fclbargeff2jobsupdateAll" image="#{constantBean.contextPath}/images/refresh.png"/>
							<w:button id="stop" value="#{l.m['停用']}" onclick="return confirm('#{l.m['你确定要停用吗?']}');"
								image="#{constantBean.contextPath}/pages/module/common/resources/images/close.png" />
							<w:button label="#{l.m['设置定制']}" onclick="saveColModelFun(editGridJsvar,'pages.module.price.pricefclbargefeeBean.editGrid');" 
								image="#{constantBean.contextPath}/images/history.png" />
							<w:button label="#{l.m['还原定制']}" onclick="saveColModelFunDefault('pages.module.price.pricefclbargefeeBean.editGrid');" 
								image="#{constantBean.contextPath}/images/return-small.png" />
						</w:toolBar>
						<layout:cell>
							<ajax:status startStyle="color: red"
								onstart="document.getElementsByTagName('body').item(0).style.cursor='progress'"
								onstop="document.getElementsByTagName('body').item(0).style.cursor='auto'">
								<f:facet name="start">
									<f:verbatim>
										<img src="#{constantBean.contextPath}/images/waiting.gif" style="height: 20px;">Loading...</img>
									</f:verbatim>
								</f:facet>
							</ajax:status>
						</layout:cell>
					</layout:panelGrid>

					<layout:panelGrid columns="20" cellspacing="0" cellpadding="0">
						<layout:cell style="width: 25px;">
							<w:button id="clearQryKey" label="" width="25"
								image="#{constantBean.contextPath}/images/clear.png" />
						</layout:cell>
						<w:textField selectOnFocus="true" width="102"
							value="#{pages.module.price.pricefclbargefeeBean.qryMap['shipping']}" emptyText="#{l.m['船公司']}"/>
						<w:textField selectOnFocus="true" width="102"
							value="#{pages.module.price.pricefclbargefeeBean.qryMap['line']}" emptyText="#{l.m['航线']}"/>
						<w:textField selectOnFocus="true" width="102"
							value="#{pages.module.price.pricefclbargefeeBean.qryMap['polnamee']}" emptyText="#{l.m['起运港英文']}"/>
						<w:textField selectOnFocus="true" width="102"
							value="#{pages.module.price.pricefclbargefeeBean.qryMap['polnamec']}" emptyText="#{l.m['起运港中文']}"/>
						<w:textField selectOnFocus="true" width="102"
							value="#{pages.module.price.pricefclbargefeeBean.qryMap['podnamee']}" emptyText="#{l.m['目的港英文']}"/>
						<w:textField selectOnFocus="true" width="101"
							value="#{pages.module.price.pricefclbargefeeBean.qryMap['podnamec']}" emptyText="#{l.m['目的港中文']}"/>
							
						<h:outputLabel value="#{l.m['有效日期起']}" />
						<w:combo width="50" id="datetypefm" forceSelection="true">
							<f:selectItem itemLabel=">=" itemValue=">="/>
							<f:selectItem itemLabel=">" itemValue=">"/>
							<f:selectItem itemLabel="=" itemValue="="/>
							<f:selectItem itemLabel="!=" itemValue="!="/>
						</w:combo>
						<w:dateField selectOnFocus="true" width="90" id = "datefm"/>
							
						<h:outputLabel value="#{l.m['有效日期止']}" />
						<w:combo width="50" id="datetypeto" forceSelection="true">
							<f:selectItem itemLabel="&lt;=" itemValue="&lt;="/>
							<f:selectItem itemLabel="&lt;" itemValue="&lt;"/>
							<f:selectItem itemLabel="=" itemValue="="/>
							<f:selectItem itemLabel="!=" itemValue="!="/>
						</w:combo>
						<w:dateField selectOnFocus="true" width="90" id = "dateto" />	
						<h:outputLabel value="#{l.m['停用']}" />
						<w:combo id="istop" width="60" forceSelection="true" value="false">
							<f:selectItem itemLabel="#{l.m['正常']}" itemValue="false" />
							<f:selectItem itemLabel="#{l.m['已停用']}" itemValue="true" />
							<f:selectItem itemLabel="#{l.m['全部']}" itemValue="all" />
						</w:combo>	
							
						<w:button id="refresh" value="#{l.m['查询']}"
							image="#{constantBean.contextPath}/images/query-small.png" />
					</layout:panelGrid>


					<w:editDataGrid height="260" paged="true" rows="200" id="editGrid" toolBarPosition="bottom" clicksToEdit="1" 
						idColumn="id" selectable="true" jsvar="editGridJsvar" selectionModel="#{constantBean.checkBox}" onrowselect="return false" onrowdeselect="return false">
						<w:outputColumn id="id" header="ID" hidden="true" />
						<w:outputColumn header="#{l.m['编辑']}"  width="40" sortable="true"
						clientFormatter="formatLinkEdit" />
						<w:outputColumn id="bargefeeid" header="Bargefeeid" hidden="true" />
						
						<w:outputColumn header="#{l.m['船公司']}" id="shipping" width="100" sortable="true">
							<w:textField id="shippingField"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['起运港英文']}" id="polnamee" width="100" sortable="true">
							<w:textField id="polnameeField"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['起运港中文']}" id="polnamec" width="100" sortable="true">
							<w:textField id="polnamecField"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['目的港英文']}" id="podnamee" width="100" sortable="true">
							<w:textField id="podnameeField"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['目的港中文']}" id="podnamec" width="100" sortable="true">
							<w:textField id="podnamecField"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="20GP" id="cost20" width="60" sortable="true">
							<w:textField id="cost20Field"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="40GP" id="cost40gp" width="60" sortable="true">
							<w:textField id="cost40gpField"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="40HQ" id="cost40hq" width="60" sortable="true">
							<w:textField id="cost40hqField"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="45HQ" id="cost45hq" width="60" sortable="true">
							<w:textField id="cost45hqField"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="20GP#{l.m['优惠']}" id="cost20gp2" width="65" sortable="true">
							<w:textField id="cost20gp2Field"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="40GP#{l.m['优惠']}" id="cost40gp2" width="65" sortable="true">
							<w:textField id="cost40gp2Field"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="40HQ#{l.m['优惠']}" id="cost40hq2" width="65" sortable="true">
							<w:textField id="cost40hq2Field"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="45HQ#{l.m['优惠']}" id="cost45hq2" width="65" sortable="true">
							<w:textField id="cost45hq2Field"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['币制']}" id="currency" width="80" sortable="true">
							<w:combo typeAhead="true" forceSelection="true" id="currencyField"
								focusClass="surround">
								<f:selectItems value="#{comboxBean.currency}" />
							</w:combo>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['区域']}" id="area" width="100" sortable="true">
							<w:textField id="areaField"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['航线']}" id="line" width="100" sortable="true">
							<w:textField id="lineField" jsvar="lineFieldJs" selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['备注']}" id="remark" width="100" sortable="true">
							<w:textField id="remarkField" jsvar="remarkFieldJs" selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['有效']}" id="isinvalid" width="60" sortable="true" type="check" 
							align="center" />
						<w:outputColumn header="#{l.m['有效日期起']}" id="datefm" width="90" sortable="true">
							<w:dateField id="datefmField"  selectOnFocus="true"/>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['有效日期止']}" id="dateto" width="90" sortable="true">
							<w:dateField id="datetoField"  selectOnFocus="true"/>
						</w:outputColumn>	
						
						<w:outputColumn header="#{l.m['条件类型']}" id="conditiontype" width="100" sortable="true">
							<w:combo width="130" id="conditiontypeEidt" forceSelection="true" listWidth="220">
								<f:selectItem itemLabel="POD" itemValue="POD"/>
								<f:selectItem itemLabel="VIA" itemValue="VIA"/>
								<f:selectItem itemLabel="#{l.m['航线代码']}" itemValue="linecode"/>
							</w:combo>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['条件']}" id="condition" width="100" sortable="true">
							<w:combo width="130" id="conditionEidt" forceSelection="true" listWidth="220">
								<f:selectItem itemLabel="NOT IN" itemValue="NOT IN"/>
								<f:selectItem itemLabel="IN" itemValue="IN"/>
							</w:combo>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['条件值']}" id="conditionvalue" width="100" sortable="true">
							<w:textArea width="120" height="60" id="conditionvalueEidt"></w:textArea>
						</w:outputColumn>
						
						
						
						<w:outputColumn header="#{l.m['条件类型']}2" id="conditiontype2" width="100" sortable="true">
							<w:combo width="130" id="conditiontypeEidt2" forceSelection="true" listWidth="220">
								<f:selectItem itemLabel="POD" itemValue="POD"/>
								<f:selectItem itemLabel="VIA" itemValue="VIA"/>
								<f:selectItem itemLabel="#{l.m['航线代码']}" itemValue="linecode"/>
							</w:combo>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['条件']}2" id="condition2" width="100" sortable="true">
							<w:combo width="130" id="conditionEidt2" forceSelection="true" listWidth="220">
								<f:selectItem itemLabel="NOT IN" itemValue="NOT IN"/>
								<f:selectItem itemLabel="IN" itemValue="IN"/>
							</w:combo>
						</w:outputColumn>
						<w:outputColumn header="#{l.m['条件值']}2" id="conditionvalue2" width="100" sortable="true">
							<w:textArea width="120" height="60" id="conditionvalueEidt2"></w:textArea>
						</w:outputColumn>
						
						
						<w:outputColumn header="#{l.m['录入人']}" id="inputer" sortable="true" width="80" />
						<w:outputColumn header="#{l.m['录入时间']}" id="inputtime" width="120" sortable="true">
							<f:convertDateTime pattern="yy/MM/dd HH:mm:ss" timeZone="GMT+8" />
						</w:outputColumn>
						<w:outputColumn header="#{l.m['修改人']}" id="updater" sortable="true" width="80" />
						<w:outputColumn header="#{l.m['修改时间']}" id="updatetime" width="120" sortable="true">
							<f:convertDateTime pattern="yy/MM/dd HH:mm:ss" timeZone="GMT+8" />
						</w:outputColumn>
					</w:editDataGrid>
					<ui:include src="/common/editgridpage.xhtml" />
				</w:form>
			</layout:panel>
		</layout:borderLayout>
	</w:page>
	
	<layout:window maximizable="true" id="priceFclBargefeeWindow" width="420" height="650" header="false"
		resizable="true" title="#{l.m['编辑']}" constrainHeader="true" y="50" x="150">
		<layout:panel id="priceFclBargefeeedit" height="100%" hideBorders="true" width="100%" fit="true">
			<w:form>
				<w:toolBar>
					<w:button id="refreshForm" jsvar="refreshFormJsVar" value="#{l.m['刷新']}"
						image="#{constantBean.contextPath}/images/refresh.png" />
					<w:button id="savePriceFclBargefee" label="#{l.m['保存']}"
						image="#{constantBean.contextPath}/images/save.png" />
				</w:toolBar>
				<layout:panelGrid columns="2">
					<h:outputLabel value="#{l.m['中文名']}"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.priceFclBargefee.namec}" >
					</w:textField>
					<h:outputLabel value="#{l.m['英文名']}"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.priceFclBargefee.namee}" >
					</w:textField>
					<h:outputLabel value="#{l.m['船公司']}"/>
					<w:combo width="150" value="#{pages.module.price.pricefclbargefeeBean.priceFclBargefee.shipping}">
							<f:selectItems value="#{comboxBean.shipAbbr}" />
					</w:combo>
					<!--<h:outputLabel value="#{l.m['有效期起']}"/>
					<w:dateField width="150" value="#{pages.module.price.pricefclbargefeeBean.priceFclBargefee.datefm}"></w:dateField>
					<h:outputLabel value="#{l.m['有效期止']}"/>
					<w:dateField width="150" value="#{pages.module.price.pricefclbargefeeBean.priceFclBargefee.dateto}"></w:dateField>	
					--><h:outputLabel value="#{l.m['备注']}"/>
					<w:textArea selectOnFocus="true" width="356" height="430"
						value="#{pages.module.price.pricefclbargefeeBean.priceFclBargefee.remark}" >
					</w:textArea>
					
				</layout:panelGrid>
			</w:form>
		</layout:panel>
	</layout:window>
	
	
	<layout:window id="editWindow" width="980" height="645" maximizable="true"
		jsvar="showEditWindowJsVar" title="#{l.m['驳船费编辑']}" constrainHeader="true" border="false" resizable="true">
			<layout:panel id="editPanel">
				<w:form>
					<w:toolBar>
					<w:button id="saveForm" label="#{l.m['保存']}"
						image="#{constantBean.contextPath}/images/save.png" />
					</w:toolBar>
					<layout:panelGrid columns="4">
					<h:outputLabel value="#{l.m['起运港英文']}"/>
					<w:combo width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.polnamee}" forceSelection="true">
							<f:selectItems value="#{comboxBean.shippol}"/>
					</w:combo>
					<h:outputLabel value="#{l.m['起运港中文']}"/>
					<w:combo width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.polnamec}" forceSelection="true">
							<f:selectItems value="#{comboxBean.polc}"/>
					</w:combo>
					<h:outputLabel value="#{l.m['目的港英文']}"/>
					<w:combo width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.podnamee}" forceSelection="true">
							<f:selectItems value="#{comboxBean.shippod}"/>
					</w:combo>
					<h:outputLabel value="#{l.m['目的港中文']}"/>
					<w:combo width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.podnamec}" forceSelection="true">
							<f:selectItems value="#{comboxBean.shippodc}"/>
					</w:combo>
					<h:outputLabel value="20GP"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.cost20}" >
					</w:textField>
					<h:outputLabel value="20GP#{l.m['优惠']}"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.cost202}" >
					</w:textField>
					<h:outputLabel value="40GP"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.cost40gp}" >
					</w:textField>
					<h:outputLabel value="40GP#{l.m['优惠']}"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.cost40gp2}" >
					</w:textField>
					<h:outputLabel value="40HQ"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.cost40hq}" >
					</w:textField>
					<h:outputLabel value="40HQ#{l.m['优惠']}"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.cost40hq2}" >
					</w:textField>
					<h:outputLabel value="45HQ"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.cost45hq}" >
					</w:textField>
					<h:outputLabel value="45HQ#{l.m['优惠']}"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.cost45hq2}" >
					</w:textField>
					<h:outputLabel value="#{l.m['币制']}"/>
					<w:combo width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.currency}" forceSelection="true">
							<f:selectItems value="#{comboxBean.currency}" />
					</w:combo>
					<h:outputLabel value="#{l.m['区域']}"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.area}" >
					</w:textField>
					<h:outputLabel value="#{l.m['航线']}"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.line}" >
					</w:textField>

					<h:outputLabel value="#{l.m['船公司']}"  style="padding-left:5px;"/>
					<w:combo width="120" value="#{pages.module.price.pricefclbargefeeBean.dtlData.shipcarrier}"
							 forceSelection="true">
						<f:selectItems value="#{comboxBean.shipAbbr}" />
					</w:combo>


					<h:outputLabel value="#{l.m['备注']}"/>
					<w:textField selectOnFocus="true" width="150"
						value="#{pages.module.price.pricefclbargefeeBean.dtlData.remark}" >
					</w:textField>
					<h:outputLabel value="#{l.m['有效期起']}"/>
					<w:dateField width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.datefm}"></w:dateField>
					<h:outputLabel value="#{l.m['有效期止']}"/>
					<w:dateField width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.dateto}"></w:dateField>	
					
					<h:outputLabel value="#{l.m['条件类型']}"/>
						<w:combo width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.conditiontype}" forceSelection="true">
							<f:selectItem itemLabel="POD" itemValue="POD"/>
							<f:selectItem itemLabel="VIA" itemValue="VIA"/>
							<f:selectItem itemLabel="#{l.m['航线代码']}" itemValue="linecode"/>
						</w:combo>
					<h:outputLabel value="#{l.m['条件']}"/>
						<w:combo width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.condition}" forceSelection="true">
							<f:selectItem itemLabel="NOT IN" itemValue="NOT IN"/>
							<f:selectItem itemLabel="IN" itemValue="IN"/>
						</w:combo>
					<h:outputLabel value="#{l.m['条件值']}"/>
						<w:textArea width="150" height="60" value="#{pages.module.price.pricefclbargefeeBean.dtlData.conditionvalue}" ></w:textArea>
					<h:outputLabel value="#{l.m['船期']}" />
					<w:textField   selectOnFocus="true" value="#{pages.module.price.pricefclbargefeeBean.dtlData.schedule}"/>
					<h:outputLabel value="#{l.m['条件类型']}2"/>
						<w:combo width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.conditiontype2}" forceSelection="true">
							<f:selectItem itemLabel="POD" itemValue="POD"/>
							<f:selectItem itemLabel="VIA" itemValue="VIA"/>
							<f:selectItem itemLabel="#{l.m['航线代码']}2" itemValue="linecode"/>
						</w:combo>
					<h:outputLabel value="#{l.m['条件']}2"/>
						<w:combo width="150" value="#{pages.module.price.pricefclbargefeeBean.dtlData.condition2}" forceSelection="true">
							<f:selectItem itemLabel="NOT IN" itemValue="NOT IN"/>
							<f:selectItem itemLabel="IN" itemValue="IN"/>
						</w:combo>
					<h:outputLabel value="#{l.m['条件值']}2"/>
						<w:textArea width="150" height="60" value="#{pages.module.price.pricefclbargefeeBean.dtlData.conditionvalue2}" ></w:textArea>
				</layout:panelGrid>
				<layout:panelGrid columns="4">
					<w:button value="#{l.m['附加费~点击修改']}" id="feeAdd"/>
					<h:outputLabel value="#{l.m['有效/无效']}" />
					<w:checkBox value="#{pages.module.price.pricefclbargefeeBean.dtlData.isinvalid}"></w:checkBox>
					<w:button value="#{l.m['批量同步工作单费用']}" id="fclbargeff2jobsupdate" image="#{constantBean.contextPath}/images/refresh.png"/>
				</layout:panelGrid>
				
				<layout:panelGrid columns="4" width="960" cellspacing="0" cellpadding="0">
					<w:iframe id="localChargeIframe" style="border: thin;width: 100%;height: 256px" border="0"
						scrolling="false">
					</w:iframe>
				</layout:panelGrid>
				</w:form>
			</layout:panel>
	</layout:window>
	
	<layout:window id="importDataWindow" width="450" height="400" constrainHeader="true">
		<layout:panel height="450" hideBorders="true" style="font-size:12px">
			<w:form groupId="bargefeeFrom">
				<layout:panelGrid columns="2">
					<layout:cell>
						<w:button id="importDataBatch" value="#{l.m['批量导入']}"
							image="#{constantBean.contextPath}/images/save.png" />
					</layout:cell>
					<layout:cell>
						<ajax:status startStyle="color: red"
							onstart="document.getElementsByTagName('body').item(0).style.cursor='progress'"
							onstop="document.getElementsByTagName('body').item(0).style.cursor='auto'">
							<f:facet name="start">
								<f:verbatim>
									<img src="#{constantBean.contextPath}/images/waiting.gif" style="height: 20px;">Loading...</img>
								</f:verbatim>
							</f:facet>
						</ajax:status>
					</layout:cell>
				</layout:panelGrid>
				<layout:cell>
					<w:textArea id="importDataText" height="250" width="420" grow="false"></w:textArea>
				</layout:cell>
				<layout:cell>

					<layout:panelGrid columns="1">
						<h:outputLabel style="width: 450" value="#{l.m['格式说明  ']}" />
						<h:outputLabel style="width: 450" value="#{l.m['请粘贴时带表头数据(如有中文名2个表头，请只复制英文表头),注意:单元格中不能有回车换行符或特殊字符，如有日期单元格，请保证日期格式正确且为有效日期，导入数据请删掉中间空行或空列，只复制有数据部分!']}" />
					</layout:panelGrid>
				</layout:cell>
			</w:form>
		</layout:panel>
	</layout:window>
	
	<layout:window maximizable="true" id="feeAddWindows" jsvar="showFeeAddWindowsJsVar" width="1100" height="550" header="false" title="#{l.m['附加费']}"
		constrainHeader="true" modal="true" onclose="refreshFormJsVar.fireEvent('click');">
		<w:iframe id="addFeeIframe" name="addFeeIframe" style="border: thin;width: 100%;height: 100%" border="0"
			scrolling="false">
		</w:iframe>
	</layout:window>
	
	
	<layout:window id="editBatchWindow" width="520" height="500" maximizable="true" modal="true"
		title="#{l.m['批量修改']}" constrainHeader="true" border="false"
		resizable="true">
			<layout:panel id = "editBatchPanel">
				<w:form>
				<layout:panelGrid columns="6">
					<h:outputLabel value="#{l.m['有效期起']}" />
					<w:dateField width="150" selectOnFocus="true" id="batchdatefm" ></w:dateField>
					<w:button width="25" onclick="clearvesvel('datefm')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['有效期止']}" />
					<w:dateField width="150" selectOnFocus="true" id="batchdateto" ></w:dateField>
					<w:button width="25" onclick="clearvesvel('dateto')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['起运港英文']}" />
					<w:combo width="150" id="batchpolnamee" forceSelection="true">
							<f:selectItems value="#{comboxBean.polBargee}"/>
					</w:combo>
					<w:button width="25" onclick="clearvesvel('polnamee')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['起运港中文']}" />
					<w:combo width="150" id="batchpolnamec" forceSelection="true">
							<f:selectItems value="#{comboxBean.polBargec}"/>
					</w:combo>
					<w:button width="25" onclick="clearvesvel('polnamec')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['目的港英文']}" />
					<w:combo width="150" id="batchpodnamee" forceSelection="true">
							<f:selectItems value="#{comboxBean.pol}"/>
					</w:combo>
					<w:button width="25" onclick="clearvesvel('podnamee')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['目的港中文']}" />
					<w:combo width="150" id="batchpodnamec" forceSelection="true">
							<f:selectItems value="#{comboxBean.polc}"/>
					</w:combo>
					<w:button width="25" onclick="clearvesvel('podnamec')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['20GP']}" />
					<w:numberField selectOnFocus="true" width="150" id="batchcost20" ></w:numberField>
					<w:button width="25" onclick="clearvesvel('cost20')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['40GP']}" />
					<w:numberField selectOnFocus="true" width="150" id="batchcost40gp"></w:numberField>
					<w:button width="25" onclick="clearvesvel('cost40gp')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['40HQ']}" />
					<w:numberField selectOnFocus="true" width="150" id="batchcost40hq" ></w:numberField>
					<w:button width="25" onclick="clearvesvel('cost40hq')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['45HQ']}" />
					<w:numberField selectOnFocus="true" width="150" id="batchcost45hq" ></w:numberField>
					<w:button width="25" onclick="clearvesvel('cost45hq')"
							image="#{constantBean.contextPath}/images/clear.png"/>			
					<h:outputLabel value="#{l.m['币制']}" />
					<w:combo width="150" id="batchcurrency" forceSelection="true">
							<f:selectItems value="#{comboxBean.currency}" />
					</w:combo>
					<w:button width="25" onclick="clearvesvel('currency')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['区域']}" />
					<w:textField selectOnFocus="true" width="150" id="batcharea" ></w:textField>
					<w:button width="25" onclick="clearvesvel('area')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['航线']}" />
					<w:textField selectOnFocus="true" width="150" id="batchline" ></w:textField>
					<w:button width="25" onclick="clearvesvel('line')"
							image="#{constantBean.contextPath}/images/clear.png"/>	
					<h:outputLabel value="#{l.m['船期']}" />
					<w:textField selectOnFocus="true" width="150" id="schedulev" ></w:textField>
					<w:button width="25" onclick="clearvesvel('schedule')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['备注']}" />
					<w:textField selectOnFocus="true" width="150" id="batchremark" ></w:textField>
					<w:button width="25" onclick="clearvesvel('remark')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
							
					
					<h:outputLabel value="#{l.m['条件类型']}" />
					<w:combo width="150" id="batchconditiontype" forceSelection="true">
							<f:selectItem itemLabel="POD" itemValue="POD"/>
							<f:selectItem itemLabel="VIA" itemValue="VIA"/>
							<f:selectItem itemLabel="#{l.m['航线代码']}" itemValue="linecode"/>
					</w:combo>
					<w:button width="25" onclick="clearvesvel('conditiontype')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['条件']}" />
					<w:combo width="150" id="batchcondition" forceSelection="true">
							<f:selectItem itemLabel="NOT IN" itemValue="NOT IN"/>
							<f:selectItem itemLabel="IN" itemValue="IN"/>
					</w:combo>
					<w:button width="25" onclick="clearvesvel('condition')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['条件值']}" />
					<w:textArea width="150" id="batchconditionvalue" height="60" ></w:textArea>
					<w:button width="25" onclick="clearvesvel('conditionvalue')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
							
							
							
					<h:outputLabel value="#{l.m['条件类型']}2" />
					<w:combo width="150" id="batchconditiontype2" forceSelection="true">
							<f:selectItem itemLabel="POD" itemValue="POD"/>
							<f:selectItem itemLabel="VIA" itemValue="VIA"/>
							<f:selectItem itemLabel="#{l.m['航线代码']}" itemValue="linecode"/>
					</w:combo>
					<w:button width="25" onclick="clearvesvel('conditiontype2')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['条件']}2" />
					<w:combo width="150" id="batchcondition2" forceSelection="true">
							<f:selectItem itemLabel="NOT IN" itemValue="NOT IN"/>
							<f:selectItem itemLabel="IN" itemValue="IN"/>
					</w:combo>
					<w:button width="25" onclick="clearvesvel('condition2')"
							image="#{constantBean.contextPath}/images/clear.png"/>		
					<h:outputLabel value="#{l.m['条件值']}2" />
					<w:textArea width="150" id="batchconditionvalue2" height="60" ></w:textArea>
					<w:button width="25" onclick="clearvesvel('conditionvalue2')"
							image="#{constantBean.contextPath}/images/clear.png"/>				
							
							
				</layout:panelGrid>
				<layout:panelGrid columns="2">
					<w:button id="saveBatchdate" value="#{l.m['确定']}" style="text-align: right" image="#{constantBean.contextPath}/images/save.png" />
					<w:button id="delay" value="#{l.m['变更']}" image="#{constantBean.contextPath}/main/img/clock.ico"></w:button>
				</layout:panelGrid>
				</w:form>
			</layout:panel>	
	</layout:window>
	
	<layout:window maximizable="false" id="nosislockwindow" width="400" height="550"
		header="false" resizable="true" constrainHeader="true" title="#{l.m['更新信息']}">
		<layout:panel id="" height="100%" hideBorders="true" width="100%" fit="true">
			<layout:panelGrid>
				<h:outputLabel id="nosislock"/>
			</layout:panelGrid>
		</layout:panel>
	</layout:window>
	
	<script>
	//<![CDATA[
	function resize(){
		var newHeight = (clientGridPanelJsvar.getSize().height) - 25;
		var newWidth = (clientGridPanelJsvar.getSize().width);
        //alert(newHeight);
        //alert(newWidth);
        clientGridJsvar.setHeight(newHeight);
        clientGridJsvar.setWidth(newWidth);


        var newHeight = (gridPanelJsvar.getSize().height) - 60;
		var newWidth = (gridPanelJsvar.getSize().width);
		editGridJsvar.setHeight(newHeight);
		editGridJsvar.setWidth(newWidth);

		clientGridJsvar.render();
		editGridJsvar.render();
	}
	
	function formatLinkEdit(v,m,r) {
	    var pkid = r.get('id');
	    var temp = '<a style="color:#00F;" onclick="showEdit('+pkid+')">#{l.m['编辑']}</a>';
        return temp;
    }
    
     function showEdit(pkid) {
      	linkEdit.addParam("pkid",pkid);
   		linkEdit.submit();
    }
    
    function setNosislock(nosislock){
		$("#nosislock").html(nosislock);
	}
	
	function clearvesvel(value) {
       	clearSubmit.addParam("value",value);
    	clearSubmit.submit();
    }
	
	function qryRefreshfun(){
		editGridJsvar.getSelectionModel().clearSelections();//清空所有选择
	}
	
	Ext.onReady(function(){
		resize();
		Ext.EventManager.onWindowResize(function(){
			resize();
		});
		initGridRight(editGridJsvar);
	});
	//]]>
</script>

</f:view>